{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///./src/lib/classNames.js","webpack:///./src/helpers/getClassName.js","webpack:///./src/lib/platform.js","webpack:///./src/lib/transitionEvents.js","webpack:///./src/lib/offset.js","webpack:///./src/components/Tappable/Tappable.js","webpack:///./src/components/Touch/Touch.js","webpack:///./src/lib/touch.js","webpack:///./src/lib/utils.js","webpack:///./src/hoc/withInsets.js","webpack:///./src/components/PopoutWrapper/PopoutWrapper.js","webpack:///./src/components/FixedLayout/FixedLayout.js","webpack:///./src/components/FormField/FormField.js","webpack:///external \"react-dom\"","webpack:///./src/lib/removeObjectKeys.js","webpack:///./src/components/HeaderButton/HeaderButton.js","webpack:///./src/lib/animate.js","webpack:///./src/components/View/View.js","webpack:///./src/components/Button/Button.js","webpack:///./src/components/Slider/Slider.js","webpack:///./node_modules/@vkontakte/vk-connect/index.js","webpack:///./src/components/Avatar/Avatar.js","webpack:///external \"@vkontakte/icons/dist/24/cancel\"","webpack:///external \"@vkontakte/icons/dist/16/done\"","webpack:///./src/components/Cell/Cell.js","webpack:///./src/lib/querystring.js","webpack:///./src/lib/webview.js","webpack:///./src/components/Tabs/Tabs.js","webpack:///./src/components/Div/Div.js","webpack:///./src/components/Header/Header.js","webpack:///./src/components/CellButton/CellButton.js","webpack:///./src/components/Spinner/Spinner.js","webpack:///./src/components/ActionSheetItem/ActionSheetItem.js","webpack:///./src/components/ActionSheet/ActionSheet.js","webpack:///./src/components/Alert/Alert.js","webpack:///./src/components/PanelHeader/PanelHeader.js","webpack:///external \"@vkontakte/icons/dist/24/dropdown\"","webpack:///./src/appearance/constants.js","webpack:///./src/components/PullToRefresh/PullToRefreshSpinner.js","webpack:///./src/components/PullToRefresh/PullToRefresh.js","webpack:///./src/lib/styles.js","webpack:///./src/components/ModalRoot/ModalRoot.js","webpack:///./src/components/SearchIOS/SearchIOS.js","webpack:///./src/components/SearchAndroid/SearchAndroid.js","webpack:///./src/components/Search/Search.js","webpack:///./src/lib/request.js","webpack:///./src/components/ConfigProvider/ConfigProvider.js","webpack:///./src/components/SelectMimicry/SelectMimicry.js","webpack:///./src/components/Select/Select.js","webpack:///./src/components/Checkbox/Checkbox.js","webpack:///./src/components/Radio/Radio.js","webpack:///./src/components/Textarea/Textarea.js","webpack:///./src/components/RangeSlider/RangeSlider.js","webpack:///./src/components/Input/Input.js","webpack:///./src/components/File/File.js","webpack:///./src/components/Switch/Switch.js","webpack:///./src/components/FormStatus/FormStatus.js","webpack:///./src/components/FormLayoutGroup/FormLayoutGroup.js","webpack:///./src/components/FormLayout/FormLayout.js","webpack:///./src/components/Separator/Separator.js","webpack:///./src/components/UsersStack/UsersStack.js","webpack:///./src/components/Counter/Counter.js","webpack:///./src/components/Tooltip/Tooltip.js","webpack:///./src/components/Link/Link.js","webpack:///./src/components/FixedTabs/FixedTabs.js","webpack:///./src/components/TabsItem/TabsItem.js","webpack:///./src/components/Progress/Progress.js","webpack:///./src/components/Gallery/Gallery.js","webpack:///./src/components/Entity/Entity.js","webpack:///./src/components/InfoRow/InfoRow.js","webpack:///./src/components/Footer/Footer.js","webpack:///./src/components/List/List.js","webpack:///./src/components/Group/Group.js","webpack:///./src/components/ModalCard/ModalCard.js","webpack:///./src/components/ModalPageHeader/ModalPageHeader.js","webpack:///./src/components/ModalPage/ModalPage.js","webpack:///./src/components/ScreenSpinner/ScreenSpinner.js","webpack:///./src/components/NativePopouts/NativePopouts.js","webpack:///./src/components/HorizontalScroll/HorizontalScroll.js","webpack:///./src/components/InnerScroll/InnerScroll.js","webpack:///./src/components/TabbarItem/TabbarItem.js","webpack:///./src/components/Tabbar/Tabbar.js","webpack:///./src/components/Epic/Epic.js","webpack:///./src/components/HeaderContext/HeaderContext.js","webpack:///./src/components/PanelHeaderContent/PanelHeaderContent.js","webpack:///./src/components/Panel/Panel.js","webpack:///./src/components/Root/Root.js","webpack:///external \"@vkontakte/icons/dist/24/search\"","webpack:///external \"@vkontakte/icons/dist/24/back\"","webpack:///external \"@vkontakte/icons/dist/16/search\"","webpack:///external \"@vkontakte/icons/dist/24/reorder_ios\"","webpack:///external \"@vkontakte/icons/dist/24/reorder\"","webpack:///external \"@vkontakte/icons/dist/24/chevron\"","webpack:///external \"@vkontakte/icons/dist/24/dismiss\"","webpack:///external \"@vkontakte/icons/dist/16/spinner\"","webpack:///external \"@vkontakte/icons/dist/44/spinner\"","webpack:///external \"@vkontakte/icons/dist/32/spinner\"","webpack:///external \"@vkontakte/icons/dist/24/spinner\"","webpack:///./src/styles/styles.css?a50f","webpack:///./src/lib/polyfills.js","webpack:///./node_modules/process/browser.js","webpack:///./src/index.js"],"names":["classNames","result","arguments","forEach","item","push","Object","keys","key","join","getClassname","base","ANDROID","IOS","ua","platformName","platform","useragent","navigator","userAgent","test","osname","IS_PLATFORM_IOS","IS_PLATFORM_ANDROID","supported","prefix","document","createElement","d","i","style","m","match","toLowerCase","transitionEndEventName","animationEndEventName","getOffsetRect","elem","box","getBoundingClientRect","body","doc","documentElement","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","top","Math","round","left","width","offsetWidth","height","offsetHeight","ts","Date","now","baseClassNames","ACTIVE_DELAY","ACTIVE_EFFECT_DELAY","storage","deactivateOtherInstances","exclude","filter","id","clearTimeout","activeTimeout","timeout","stop","props","originalEvent","insideTouchRoot","stopPropagation","touches","length","onDown","getStorage","setTimeout","start","shiftXAbs","shiftYAbs","isSlide","state","active","activeEffectDelay","store","e","container","x","y","toString","setState","clicks","wavesTimeout","getRootRef","current","random","children","className","component","restProps","Component","disabled","classes","onStart","onMove","onEnd","ref","getRef","map","k","onClick","func","string","node","oneOfType","element","role","number","bool","shape","instanceOf","Element","events","TouchRootContext","createContext","Touch","gesture","startX","startY","startT","isPressed","outputEvent","onStartX","onStartY","subscribe","isX","isY","shiftX","shiftY","abs","willBeX","willBeY","willBeSlidedX","onMoveX","willBeSlidedY","onMoveY","isSlideX","isSlideY","onEndY","onEndX","cancelClick","target","tagName","unsubscribe","preventDefault","addEventListener","capture","useCapture","passive","touchEnabled","removeEventListener","ComponentName","onDragStart","context","any","coordX","clientX","coordY","clientY","isClient","getSupportedEvents","rubber","offset","dimension","resistanceRate","isAndroid","isNumeric","value","isNaN","parseFloat","isFinite","initialState","bottom","right","resolveInsets","detail","type","data","insets","withInsets","vkConnect","connectListener","PopoutWrapper","opened","manual","animationName","el","preventTouch","waitAnimationFinish","onFadeInEnd","animationFinishTimeout","eventHandler","eventName","bind","v","h","closing","hasMask","oneOf","object","FixedLayout","position","panelScroll","scrolls","panel","offsetTop","onViewTransitionStart","onViewTransitionEnd","vertical","tabbarPadding","hasTabbar","paddingBottom","baseClassName","FormField","TagName","status","propTypes","defaultProps","removeObjectKeys","obj","newObj","HeaderButton","primary","isPrimitive","href","animate","duration","timing","draw","performance","requestAnimationFrame","time","timeFraction","progress","transitionStartEventName","scrollsCache","swipeBackExcludedTags","indexOf","activePanel","isBack","prevPanel","dispatchEvent","CustomEvent","nextPanel","visiblePanels","animated","undefined","scrollTo","onTransition","from","to","propertyName","classList","contains","swipingBackFinish","onSwipeBackSuccess","onSwipeBackCancel","n","sqrt","val","isWebView","innerWidth","browserSwipe","onSwipeBack","swipingBack","history","swipebackStartX","swipeBackPrevPanel","swipeBackNextPanel","slice","swipeBackShift","speed","c","refsStore","nextProps","popout","blurActiveElement","modal","firstLayer","panels","find","prevProps","prevState","nextPanelElement","pickPanel","prevPanelElement","transitionEndHandler","onSwipeBackStart","waitTransitionFinish","swipingBackTransitionEndHandler","activeElement","blur","getElementById","console","warn","parentNode","panelId","isPrev","isNext","prevPanelTranslate","nextPanelTranslate","prevPanelShadow","boxShadow","transform","WebkitTransform","title","bg","addon","opacity","titleTransform","leftTransform","header","hasPopout","hasModal","modifiers","onScrollTop","headerSwipeStyles","calcHeaderSwipeStyles","icon","calcPanelSwipeStyles","concat","arrayOf","mapOldLevel","level","Button","size","stretched","align","before","after","precisionRound","precision","factor","pow","Slider","absolutePosition","validateAbsolute","containerLeft","percentPosition","absoluteToPecent","onChange","percentToValue","isControlledOutside","closest","callback","offsetLeft","containerWidth","hasOwnProperty","absolute","res","max","min","step","stepCount","absStep","percent","stepFloatPart","split","onResize","validatePercent","valueToPercent","defaultValue","Avatar","src","borderRadius","floor","Cell","isRemoveActivated","removeOffset","dragging","removable","deactivateRemove","nativeEvent","stopImmediatePropagation","onRemove","rootEl","removeButton","dragShift","listEl","add","siblings","Array","prototype","call","parentElement","childNodes","dragStartIndex","rootGesture","dragDirection","dragEndIndex","sibling","siblingIndex","siblingGesture","remove","onDragFinish","indicator","asideContent","expandable","description","selectable","multiline","removePlaceholder","draggable","bottomContent","rootProps","inputProps","linkProps","activateRemove","onDragMove","onDragEnd","onRemoveClick","getRemoveRef","querystring","parse","matches","exec","str","reduce","acc","param","decodeURIComponent","create","opts","options","encode","encodeURIComponent","isArray","Tabs","theme","Div","Header","aside","CellButton","svgSpinner","Spinner","memo","ActionSheetItem","autoclose","ActionSheet","onClose","action","event","persist","text","toArray","Child","index","arr","cloneElement","onItemClick","marginBottom","isRequired","Alert","createRef","actions","actionsLayout","button","__html","PanelHeader","ready","leftNode","addonNode","titleNode","rightNode","bgNode","noShadow","transparent","createPortal","scheme","webviewType","module","exports","tabbarHeight","calcStrokeDashOffset","radius","PI","PullToRefreshSpinner","on","strokeWidth","dasharray","circleCenter","dashoffset","transformOrigin","cancelEvent","refreshing","touchDown","params","watching","positionMultiplier","shift","touchY","currentY","maxY","spinnerY","spinnerProgress","canRefresh","contentShift","runRefreshing","refreshingFinished","resetRefreshingState","contentRef","onWindowTouchMove","cancelable","isFetching","onRefreshingFinish","onRefresh","spinnerTransform","contentTransform","onTouchStart","onTouchMove","onTouchEnd","scrollingElement","setTransformStyle","TYPE_CARD","TYPE_PAGE","numberInRange","range","rangeTranslate","switching","activeModal","nextModal","modalState","modalsState","onPageTouchMove","onCardTouchMove","onPageTouchEnd","onCardTouchEnd","contentScrolled","contentScrollStopTimeout","activeTransitions","newState","prevModal","visibleModals","triggerActiveModalClose","maskElementRef","initModalsState","modals","Modal","modalProps","settlingHeight","dynamicContentHeight","initActiveModal","toggleDocumentScrolling","checkPageContentHeight","splice","inited","closeActiveModal","switchPrevNext","enabled","documentScrolling","modalId","modalElement","pickModal","querySelector","initPageModal","initCardModal","contentElement","contentHeight","firstChild","clientHeight","innerElement","headerElement","footerElement","collapsed","translateYFrom","translateY","expandedRange","collapsedRange","hiddenRange","shiftHalf","visiblePart","headerHeight","prevModalState","currentModalState","diff","animateTranslate","animatePageHeader","prevNextSwitchEndHandler","setMaskOpacity","expanded","touchStartTime","touchStartContentScrollTop","touchMovePositive","shiftYPercent","innerHeight","shiftYCurrent","touchShiftYPercent","translateYCurrent","next","shiftYEndPercent","expectTranslateY","hidden","onceHandler","nextModalState","prevIsPage","prevIsCard","nextIsPage","nextIsCard","currentPercent","frameId","cancelAnimationFrame","footerHeight","headerOpenPercent","headerShadow","forceOpacity","maskAnimationFrame","activeModalState","onScroll","onMaskClick","isPage","searchId","focused","onFocus","onBlur","showAfter","placeholderOffset","afterWidth","placeholder","inputRef","onCancel","inputEl","focus","autoFocus","hasValue","iosProps","androidProps","autoComplete","defaultOptions","method","getXMLHttpRequest","XMLHttpRequest","makeRequest","url","isCanceled","error","Error","request","requestPromise","Promise","resolve","reject","open","headers","setRequestHeader","onreadystatechange","readyState","responseText","ontimeout","send","promise","then","catch","log","abort","ConfigProvider","setAttribute","app","SelectMimicry","tabIndex","alignment","Select","setTitle","selectedOption","selectEl","selectedIndex","notSelected","label","name","Checkbox","Radio","Textarea","scrollHeight","getComputedStyle","paddingTop","parseInt","grow","resize","RangeSlider","percentRange","calcPercentRange","thumb","thumbStart","thumbEnd","percentStart","percentEnd","valueStart","valueEnd","Input","File","Switch","FormStatus","dangerouslySetInnerHTML","FormLayoutGroup","FormLayout","onSubmit","field","Separator","wide","masksCreated","createMasks","svgElement","createElementNS","setAttributeNS","innerHTML","appendChild","UsersStack","photos","count","othersCount","canShowOthers","photosShown","photo","backgroundImage","Counter","isElement","isValidElement","isDOMTypeElement","TooltipPortal","findPortalTarget","closestFixed","closestHeader","closestPanel","fixedPortal","targetBounds","portalBounds","portalTarget","offsetY","offsetX","alignX","alignY","coords","getBoundingTargetRect","cornerOffset","Tooltip","targetEl","isShown","portalProps","child","Link","FixedTabs","TabsItem","selected","Progress","Gallery","targetIndex","animation","calculateIndent","autoplay","isDraggable","deltaX","getTarget","initializeSlides","layerWidth","slides","viewportWidth","viewport","calcMin","calcMax","go","getSlideRef","slide","slidesStore","slideIndex","initialSlideIndex","getChildren","getSlidesCoords","isCenterWithCustomWidth","targetSlide","validateIndent","indent","Number","expectDeltaX","direction","previousValue","currentValue","reduceChildren","isChildrenDirty","slideWidth","bullets","calculateDragIndent","layerStyle","WebkitTransition","transition","getViewportRef","Entity","avatarProps","avatarSize","InfoRow","Footer","List","Group","ModalCard","currentTarget","dataset","caption","onButtonClick","ModalPageHeader","ModalPage","ScreenSpinner","brToNl","regex","replace","actionId","NativePopouts","actionsStore","vkuiConnect","vkuiListener","renderPopout","message","handler","renderNativeAlert","renderUIAlert","renderNativeSheet","renderUISheet","closeUIPopout","HorizontalScroll","InnerScroll","TabbarItem","Tabbar","shadow","itemsLayout","getItemsLayout","Children","Epic","activeStory","tabbar","HeaderContext","onAnimationFinish","elementRef","PanelHeaderContent","InComponent","inProps","Panel","centered","Root","prevView","nextView","activeView","visibleViews","arrayChildren","firstLayerId","view","prevViewElement","nextViewElement","onAnimationEnd","Views","View","ElementProto","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","css","TypeError","list","thisArg","colors","process","env","VKUI_VERSION"],"mappings":"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BATA+N,M,kBAwBG;AACpBiB,KAAG,EAAE,CADe;AAEpBD,KAAG,EAAE,GAFe;AAGpBE,MAAI,EAAE;AAHc,C;;;;;;;;ACtCxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG,mBAgBH;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACtMD;AACA;AACA;AACA;AAEA,IAAM5I,aAAa,GAAG,6EAAY,CAAC,QA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,CAACvxB,MAAL,KAAgB,CAA7B;AACA,QAAIwxB,OAAO,GAAGp2B,SAAS,CAAC,CAAD,CAAvB;;AAEA,SAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiD,MAApB,EAA4BjD,CAAC,EAA7B,EAAiC;AAC/B,UAAI2F,OAAO,GAAG6uB,IAAI,CAACx0B,CAAD,CAAlB;;AACA,UAAI0U,QAAQ,CAACuC,IAAT,CAAcwd,OAAd,EAAuB9uB,OAAvB,EAAgC3F,CAAhC,EAAmCw0B,IAAnC,CAAJ,EAA8C;AAC5C,eAAO7uB,OAAP;AACD;AACF;AACF,GAjBD;AAkBD,C;;;;;;AC5CD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvLtC;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AAGA;AACA;AACA;AACA;AAEA;;;;AAGA;AAEA;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAIO,IAAM+uB,MAAM,GAAG,EAAf;AAEA,IAAMtpB,CAAC,GAAGupB,OAAO,CAACC,GAAR,CAAYC,YAAtB,C","file":"vkui.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"prop-types\"), require(\"react\"), require(\"react-dom\"), require(\"@vkontakte/icons/dist/24/cancel\"), require(\"@vkontakte/icons/dist/16/done\"), require(\"@vkontakte/icons/dist/24/dropdown\"), require(\"@vkontakte/icons/dist/24/search\"), require(\"@vkontakte/icons/dist/24/back\"), require(\"@vkontakte/icons/dist/16/search\"), require(\"@vkontakte/icons/dist/24/reorder_ios\"), require(\"@vkontakte/icons/dist/24/reorder\"), require(\"@vkontakte/icons/dist/24/chevron\"), require(\"@vkontakte/icons/dist/24/dismiss\"), require(\"@vkontakte/icons/dist/16/spinner\"), require(\"@vkontakte/icons/dist/44/spinner\"), require(\"@vkontakte/icons/dist/32/spinner\"), require(\"@vkontakte/icons/dist/24/spinner\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"prop-types\", \"react\", \"react-dom\", \"@vkontakte/icons/dist/24/cancel\", \"@vkontakte/icons/dist/16/done\", \"@vkontakte/icons/dist/24/dropdown\", \"@vkontakte/icons/dist/24/search\", \"@vkontakte/icons/dist/24/back\", \"@vkontakte/icons/dist/16/search\", \"@vkontakte/icons/dist/24/reorder_ios\", \"@vkontakte/icons/dist/24/reorder\", \"@vkontakte/icons/dist/24/chevron\", \"@vkontakte/icons/dist/24/dismiss\", \"@vkontakte/icons/dist/16/spinner\", \"@vkontakte/icons/dist/44/spinner\", \"@vkontakte/icons/dist/32/spinner\", \"@vkontakte/icons/dist/24/spinner\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"prop-types\"), require(\"react\"), require(\"react-dom\"), require(\"@vkontakte/icons/dist/24/cancel\"), require(\"@vkontakte/icons/dist/16/done\"), require(\"@vkontakte/icons/dist/24/dropdown\"), require(\"@vkontakte/icons/dist/24/search\"), require(\"@vkontakte/icons/dist/24/back\"), require(\"@vkontakte/icons/dist/16/search\"), require(\"@vkontakte/icons/dist/24/reorder_ios\"), require(\"@vkontakte/icons/dist/24/reorder\"), require(\"@vkontakte/icons/dist/24/chevron\"), require(\"@vkontakte/icons/dist/24/dismiss\"), require(\"@vkontakte/icons/dist/16/spinner\"), require(\"@vkontakte/icons/dist/44/spinner\"), require(\"@vkontakte/icons/dist/32/spinner\"), require(\"@vkontakte/icons/dist/24/spinner\")) : factory(root[\"prop-types\"], root[\"react\"], root[\"react-dom\"], root[\"@vkontakte/icons/dist/24/cancel\"], root[\"@vkontakte/icons/dist/16/done\"], root[\"@vkontakte/icons/dist/24/dropdown\"], root[\"@vkontakte/icons/dist/24/search\"], root[\"@vkontakte/icons/dist/24/back\"], root[\"@vkontakte/icons/dist/16/search\"], root[\"@vkontakte/icons/dist/24/reorder_ios\"], root[\"@vkontakte/icons/dist/24/reorder\"], root[\"@vkontakte/icons/dist/24/chevron\"], root[\"@vkontakte/icons/dist/24/dismiss\"], root[\"@vkontakte/icons/dist/16/spinner\"], root[\"@vkontakte/icons/dist/44/spinner\"], root[\"@vkontakte/icons/dist/32/spinner\"], root[\"@vkontakte/icons/dist/24/spinner\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__22__, __WEBPACK_EXTERNAL_MODULE__23__, __WEBPACK_EXTERNAL_MODULE__36__, __WEBPACK_EXTERNAL_MODULE__83__, __WEBPACK_EXTERNAL_MODULE__84__, __WEBPACK_EXTERNAL_MODULE__85__, __WEBPACK_EXTERNAL_MODULE__86__, __WEBPACK_EXTERNAL_MODULE__87__, __WEBPACK_EXTERNAL_MODULE__88__, __WEBPACK_EXTERNAL_MODULE__89__, __WEBPACK_EXTERNAL_MODULE__90__, __WEBPACK_EXTERNAL_MODULE__91__, __WEBPACK_EXTERNAL_MODULE__92__, __WEBPACK_EXTERNAL_MODULE__93__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 98);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","export default function classNames () {\n  let result = [];\n\n  [...arguments].forEach(item => {\n    if (!item) {\n      return;\n    }\n    switch (typeof item) {\n      case 'string':\n        result.push(item);\n        break;\n      case 'object':\n        Object.keys(item).forEach(key => {\n          if (item[key]) {\n            result.push(key);\n          }\n        });\n        break;\n      default:\n        result.push('' + item);\n    }\n  });\n\n  return result.join(' ');\n}\n","import { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../lib/platform.js';\nimport classNames from '../lib/classNames';\n\nexport default function getClassname (base) {\n  return classNames(base, {\n    [base + '--ios']: IS_PLATFORM_IOS,\n    [base + '--android']: IS_PLATFORM_ANDROID\n  });\n}\n","export const ANDROID = 'android';\nexport const IOS = 'ios';\n\nlet ua;\nlet platformName;\n\nexport function platform (useragent) {\n  if (!ua) {\n    ua = useragent || (navigator && navigator.userAgent) || '';\n  }\n  if (!platformName) {\n    platformName = /android/i.test(ua) ? ANDROID : IOS;\n  }\n\n  return platformName;\n}\n\nconst osname = platform();\n\nexport const IS_PLATFORM_IOS = osname === IOS;\nexport const IS_PLATFORM_ANDROID = osname === ANDROID;\n","let supported, prefix;\n\nif (typeof document !== 'undefined' && document.createElement) {\n  const d = document.createElement('div');\n\n  for (let i in d.style) {\n    let m = i.match(/^(moz|webkit|ms|)(transition|animation)$/i);\n    if (m) supported = true;\n    if (m && m[1]) {\n      // согласно спецификации, префиксы к событиям должны быть в нижнем регистре\n      // https://www.w3schools.com/jsref/event_transitionend.asp\n      prefix = m[1].toLowerCase();\n    }\n  }\n}\n\nconst transitionEndEventName = prefix ? prefix + 'TransitionEnd' : 'transitionend';\nconst animationEndEventName = prefix ? prefix + 'AnimationEnd' : 'animationend';\n\nexport default {\n  supported,\n  prefix,\n  transitionEndEventName,\n  animationEndEventName\n};\n","export function getOffsetRect (elem) {\n  const box = elem.getBoundingClientRect();\n  const body = document.body;\n  const doc = document.documentElement;\n  const scrollTop = window.pageYOffset || doc.scrollTop || body.scrollTop;\n  const scrollLeft = window.pageXOffset || doc.scrollLeft || body.scrollLeft;\n  const clientTop = doc.clientTop || body.clientTop || 0;\n  const clientLeft = doc.clientLeft || body.clientLeft || 0;\n\n  return {\n    top: Math.round(box.top + scrollTop - clientTop),\n    left: Math.round(box.left + scrollLeft - clientLeft),\n    width: elem.offsetWidth,\n    height: elem.offsetHeight\n  };\n}\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch, { TouchRootContext } from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport { getOffsetRect } from '../../lib/offset';\nimport { coordX, coordY } from '../../lib/touch';\n\nconst ts = () => +Date.now();\nconst baseClassNames = getClassName('Tappable');\n\nconst ACTIVE_DELAY = 70;\nexport const ACTIVE_EFFECT_DELAY = 600;\n\nlet storage = {};\n\n/**\n * Очищает таймауты и хранилище для всех экземпляров компонента, кроме переданного\n *\n * @param {String} exclude ID экземпляра-исключения\n * @returns {void}\n */\nfunction deactivateOtherInstances (exclude) {\n  Object.keys(storage).filter(id => id !== exclude).forEach(id => {\n    clearTimeout(storage[id].activeTimeout);\n    clearTimeout(storage[id].timeout);\n    storage[id].stop();\n\n    delete storage[id];\n  });\n}\n\nexport default class Tappable extends Component {\n  constructor (props) {\n    super(props);\n    this.id = Math.round(Math.random() * 1e8).toString(16);\n    this.state = {\n      clicks: {},\n      active: false,\n      ts: null\n    };\n  }\n\n  static propTypes = {\n    onClick: PropTypes.func,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    component: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.element\n    ]),\n    role: PropTypes.string,\n    activeEffectDelay: PropTypes.number,\n    stopPropagation: PropTypes.bool,\n    disabled: PropTypes.bool,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    component: 'div',\n    role: 'button',\n    stopPropagation: false,\n    disabled: false,\n    activeEffectDelay: ACTIVE_EFFECT_DELAY\n  };\n\n  isSlide = false;\n\n  /**\n   * Обрабатывает событие touchstart\n   *\n   * @returns {void}\n   */\n  onStart = ({ originalEvent }) => {\n    !this.insideTouchRoot && this.props.stopPropagation && originalEvent.stopPropagation();\n    if (originalEvent.touches && originalEvent.touches.length > 1) {\n      return deactivateOtherInstances();\n    }\n\n    if (IS_PLATFORM_ANDROID) {\n      this.onDown(originalEvent);\n    }\n\n    storage[this.id] = {};\n    this.getStorage().stop = this.stop;\n    this.getStorage().activeTimeout = setTimeout(this.start, ACTIVE_DELAY);\n  };\n\n  /**\n   * Обрабатывает событие touchmove\n   *\n   * @returns {void}\n   */\n  onMove = ({ originalEvent, shiftXAbs, shiftYAbs }) => {\n    !this.insideTouchRoot && this.props.stopPropagation && originalEvent.stopPropagation();\n    if (shiftXAbs > 20 || shiftYAbs > 20) {\n      this.isSlide = true;\n      this.stop();\n    }\n  };\n\n  /**\n   * Обрабатывает событие touchend\n   *\n   * @returns {void}\n   */\n  onEnd = ({ originalEvent }) => {\n    !this.insideTouchRoot && this.props.stopPropagation && originalEvent.stopPropagation();\n    const now = ts();\n\n    if (originalEvent.touches && originalEvent.touches.length > 0) {\n      this.isSlide = false;\n      return;\n    }\n\n    if (this.state.active) {\n      if (now - this.state.ts >= 100) {\n        // Долгий тап, выключаем подсветку\n        this.stop();\n      } else {\n        // Короткий тап, оставляем подсветку\n        const timeout = setTimeout(this.stop, this.props.activeEffectDelay - now + this.state.ts);\n        const store = this.getStorage();\n\n        if (store) {\n          store.timeout = timeout;\n        }\n      }\n    } else if (!this.isSlide) {\n      // Очень короткий тап, включаем подсветку\n      this.start();\n\n      const timeout = setTimeout(this.stop, this.props.activeEffectDelay);\n\n      if (this.getStorage()) {\n        clearTimeout(this.getStorage().activeTimeout);\n        this.getStorage().timeout = timeout;\n      } else {\n        this.timeout = timeout;\n      }\n    }\n\n    this.isSlide = false;\n  };\n\n  /**\n   * Реализует эффект при тапе для Андроида\n   *\n   * @returns {void}\n   */\n  onDown = (e) => {\n    if (IS_PLATFORM_ANDROID) {\n      const { top, left } = getOffsetRect(this.container);\n      const x = coordX(e);\n      const y = coordY(e);\n      const key = 'wave' + Date.now().toString();\n\n      this.setState(state => ({\n        clicks: {\n          ...state.clicks,\n          [key]: {\n            x: Math.round(x - left),\n            y: Math.round(y - top)\n          }\n        }\n      }));\n\n      this.wavesTimeout = setTimeout(() => {\n        this.setState(state => {\n          let clicks = { ...state.clicks };\n          delete clicks[key];\n          return { clicks };\n        });\n      }, 225);\n    }\n  };\n\n  /**\n   * Устанавливает активное выделение\n   *\n   * @returns {void}\n   */\n  start = () => {\n    if (!this.state.active) {\n      this.setState({\n        active: true,\n        ts: ts()\n      });\n    }\n    deactivateOtherInstances(this.id);\n  };\n\n  /**\n   * Снимает активное выделение\n   *\n   * @returns {void}\n   */\n  stop = () => {\n    if (this.state.active) {\n      this.setState({\n        active: false,\n        ts: null\n      });\n    }\n    if (this.getStorage()) {\n      clearTimeout(this.getStorage().activeTimeout);\n      delete storage[this.id];\n    }\n  };\n\n  /**\n   * Возвращает хранилище для экземпляра компонента\n   *\n   * @returns {Object} Хранилище для текущего экземпляра компонента\n   */\n  getStorage = () => {\n    return storage[this.id];\n  };\n\n  /**\n   * Берет ref на DOM-ноду из экземпляра Touch\n   *\n   * @param {React.Component} container Touch component instance\n   */\n  getRef = container => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  componentWillUnmount () {\n    if (storage[this.id]) {\n      clearTimeout(storage[this.id].timeout);\n      clearTimeout(storage[this.id].activeTimeout);\n\n      delete storage[this.id];\n    }\n\n    clearTimeout(this.wavesTimeout);\n  }\n\n  render () {\n    const { clicks, active } = this.state;\n    const { children, className, component, activeEffectDelay, stopPropagation, getRootRef, ...restProps } = this.props;\n    const Component = !restProps.disabled ? Touch : component;\n    const classes = classNames(baseClassNames, className, {\n      'Tappable--active': active,\n      'Tappable--inactive': !active\n    });\n\n    let props = {};\n\n    if (!restProps.disabled) {\n      props.component = component;\n      props.onStart = this.onStart;\n      props.onMove = this.onMove;\n      props.onEnd = this.onEnd;\n    }\n\n    if (typeof Component === 'string') {\n      props.ref = this.getRef;\n    } else {\n      props.getRootRef = this.getRef;\n    }\n\n    return (\n      <TouchRootContext.Consumer>\n        {insideTouchRoot => {\n          this.insideTouchRoot = insideTouchRoot;\n\n          return (\n            <Component {...restProps} className={classes} {...props}>\n              {IS_PLATFORM_ANDROID && (\n                <span className=\"Tappable__waves\">\n                  {Object.keys(clicks).map(k => (\n                    <span className=\"Tappable__wave\" style={{ top: clicks[k].y, left: clicks[k].x }} key={k} />\n                  ))}\n                </span>\n              )}\n              {children}\n            </Component>\n          );\n        }}\n      </TouchRootContext.Consumer>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { getSupportedEvents, coordX, coordY, touchEnabled } from '../../lib/touch';\n\nconst events = getSupportedEvents();\n\n/**\n * Контекст для компонентов, использующих Touch в качестве корневой обёртки,\n * и для которых важно не предотвращать вспылие тач-событий от дочерних компонентов\n */\nexport const TouchRootContext = React.createContext(false);\n\nexport default class Touch extends Component {\n  cancelClick = false;\n  gesture = {};\n\n  static propTypes = {\n    onStart: PropTypes.func,\n    onStartX: PropTypes.func,\n    onStartY: PropTypes.func,\n    onMove: PropTypes.func,\n    onMoveX: PropTypes.func,\n    onMoveY: PropTypes.func,\n    onEnd: PropTypes.func,\n    onEndX: PropTypes.func,\n    onEndY: PropTypes.func,\n    useCapture: PropTypes.bool,\n    component: PropTypes.string,\n    children: PropTypes.node,\n    onClick: PropTypes.func,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.node })\n    ])\n  };\n  static defaultProps = {\n    component: 'div',\n    children: '',\n    useCapture: false\n  };\n\n  static contextTypes = {\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  componentDidMount () {\n    this.container.addEventListener(events[0], this.onStart, { capture: this.props.useCapture, passive: false });\n    touchEnabled && this.subscribe(this.container);\n  }\n\n  componentWillUnmount () {\n    this.container.removeEventListener(events[0], this.onStart, { capture: this.props.useCapture, passive: false });\n    touchEnabled && this.unsubscribe(this.container);\n  }\n\n  /**\n   * Обработчик событий touchstart\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onStart = (e) => {\n    this.gesture = {\n      startX: coordX(e),\n      startY: coordY(e),\n      startT: new Date(),\n      isPressed: true\n    };\n\n    // Вызываем нужные колбеки из props\n    const outputEvent = {\n      ...this.gesture,\n      originalEvent: e\n    };\n\n    if (this.props.onStart) {\n      this.props.onStart(outputEvent);\n    }\n\n    if (this.props.onStartX) {\n      this.props.onStartX(outputEvent);\n    }\n\n    if (this.props.onStartY) {\n      this.props.onStartY(outputEvent);\n    }\n\n    !touchEnabled && this.subscribe(this.document);\n  };\n\n  /**\n   * Обработчик событий touchmove\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onMove = (e) => {\n    const { isPressed, isX, isY, startX, startY } = this.gesture;\n\n    if (isPressed) {\n      // смещения\n      const shiftX = coordX(e) - startX;\n      const shiftY = coordY(e) - startY;\n\n      // абсолютные значения смещений\n      const shiftXAbs = Math.abs(shiftX);\n      const shiftYAbs = Math.abs(shiftY);\n\n      // Если определяем мультитач, то прерываем жест\n      if (!!e.touches && e.touches.length > 1) {\n        return this.onEnd(e);\n      }\n\n      // если мы ещё не определились\n      if (!isX && !isY) {\n        let willBeX = shiftXAbs >= 5 && shiftXAbs > shiftYAbs;\n        let willBeY = shiftYAbs >= 5 && shiftYAbs > shiftXAbs;\n        let willBeSlidedX = (willBeX && !!this.props.onMoveX) || !!this.props.onMove;\n        let willBeSlidedY = (willBeY && !!this.props.onMoveY) || !!this.props.onMove;\n\n        this.gesture.isY = willBeY;\n        this.gesture.isX = willBeX;\n        this.gesture.isSlideX = willBeSlidedX;\n        this.gesture.isSlideY = willBeSlidedY;\n        this.gesture.isSlide = willBeSlidedX || willBeSlidedY;\n      }\n\n      if (this.gesture.isSlide) {\n        this.gesture.shiftX = shiftX;\n        this.gesture.shiftY = shiftY;\n        this.gesture.shiftXAbs = shiftXAbs;\n        this.gesture.shiftYAbs = shiftYAbs;\n\n        // Вызываем нужные колбеки из props\n        const outputEvent = {\n          ...this.gesture,\n          originalEvent: e\n        };\n\n        if (this.props.onMove) {\n          this.props.onMove(outputEvent);\n        }\n\n        if (this.gesture.isSlideX && this.props.onMoveX) {\n          this.props.onMoveX(outputEvent);\n        }\n\n        if (this.gesture.isSlideY && this.props.onMoveY) {\n          this.props.onMoveY(outputEvent);\n        }\n      }\n    }\n  };\n\n  /**\n   * Обработчик событий touchend, touchcancel\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onEnd = (e) => {\n    const { isPressed, isSlide, isSlideX, isSlideY } = this.gesture;\n\n    if (isPressed) {\n      // Вызываем нужные колбеки из props\n      const outputEvent = {\n        ...this.gesture,\n        originalEvent: e\n      };\n\n      if (this.props.onEnd) {\n        this.props.onEnd(outputEvent);\n      }\n\n      if (isSlideY && this.props.onEndY) {\n        this.props.onEndY(outputEvent);\n      }\n\n      if (isSlideX && this.props.onEndX) {\n        this.props.onEndX(outputEvent);\n      }\n    }\n\n    // Если закончили жест на ссылке, выставляем флаг для отмены перехода\n    this.cancelClick = e.target.tagName === 'A' && isSlide;\n    this.gesture = {};\n\n    !touchEnabled && this.unsubscribe(this.document);\n  };\n\n  subscribe (element) {\n    element.addEventListener(events[1], this.onMove, { capture: this.props.useCapture, passive: false });\n    element.addEventListener(events[2], this.onEnd, { capture: this.props.useCapture, passive: false });\n    element.addEventListener(events[3], this.onEnd, { capture: this.props.useCapture, passive: false });\n  }\n\n  unsubscribe (element) {\n    element.removeEventListener(events[1], this.onMove, { capture: this.props.useCapture, passive: false });\n    element.removeEventListener(events[2], this.onEnd, { capture: this.props.useCapture, passive: false });\n    element.removeEventListener(events[3], this.onEnd, { capture: this.props.useCapture, passive: false });\n  }\n\n  /**\n   * Обработчик событий dragstart\n   * Отменяет нативное браузерное поведение для вложенных ссылок и изображений\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onDragStart = (e) => {\n    if (e.target.tagName === 'A' || e.target.tagName === 'IMG') {\n      e.preventDefault();\n    }\n  };\n\n  /**\n   * Обработчик клика по компоненту\n   * Отменяет переход по вложенной ссылке, если был зафиксирован свайп\n   *\n   * @param {Object} e Браузерное событие\n   * @returns {void}\n   */\n  onClick = (e) => {\n    if (this.cancelClick) {\n      this.cancelClick = false;\n      e.preventDefault();\n    }\n    this.props.onClick && this.props.onClick(e);\n  };\n\n  getRef = (container) => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render () {\n    const {\n      onStart,\n      onStartX,\n      onStartY,\n      onMove,\n      onMoveX,\n      onMoveY,\n      onEnd,\n      onEndX,\n      onEndY,\n      useCapture,\n      component,\n      getRootRef,\n      ...restProps\n    } = this.props;\n    const ComponentName = component;\n\n    return (\n      <ComponentName {...restProps} onDragStart={this.onDragStart} onClick={this.onClick} ref={this.getRef}>\n        {this.props.children}\n      </ComponentName>\n    );\n  }\n}\n","\n/**\n * Получает кординату по оси абсцисс из touch- или mouse-события\n *\n * @param {Object} e Браузерное событие\n * @returns {Number} Координата взаимодействия по оси абсцисс\n */\nconst coordX = e => e.clientX || (e.touches && e.touches[0].clientX);\n\n/**\n * Получает кординату по оси ординат из touch- или mouse-события\n *\n * @param {Object} e Браузерное событие\n * @returns {Number} Координата взаимодействия по оси ординат\n */\nconst coordY = e => e.clientY || (e.touches && e.touches[0].clientY);\n\nconst isClient = typeof window !== 'undefined';\nconst touchEnabled = isClient && 'ontouchstart' in window;\n\n/**\n * Возвращает массив поддерживаемых событий\n * Если браузер поддерживает pointer events или подключена handjs, вернет события указателя.\n * Если нет, используем события мыши\n *\n * @returns {Array} Массив с названиями событий\n */\nfunction getSupportedEvents () {\n  if (touchEnabled) {\n    return ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  return ['mousedown', 'mousemove', 'mouseup', 'mouseleave'];\n}\n\nexport { getSupportedEvents, coordX, coordY, touchEnabled };\n\n/**\n * Рассчитывает \"сопротивление\" для iOS тач-событий\n *\n * @param {number} offset\n * @param {number} dimension\n * @param {number} resistanceRate\n * @param {boolean} isAndroid\n */\nexport function rubber (offset, dimension, resistanceRate, isAndroid) {\n  if (isAndroid || offset < 0) return offset;\n\n  const result = (resistanceRate * Math.abs(offset) * dimension) / (dimension + resistanceRate * Math.abs(offset));\n  return offset < 0 ? -result : result;\n}\n","/**\n * Является ли переданное значение числовым\n * @param {any} value\n */\nexport function isNumeric (value) {\n  return !isNaN(parseFloat(value)) && isFinite(value);\n}\n","import React from 'react';\nimport vkConnect from '@vkontakte/vk-connect';\n\nlet initialState = {\n  bottom: null,\n  top: null,\n  left: null,\n  right: null\n};\n\nfunction resolveInsets (e) {\n  const { type, data } = e.detail;\n  switch (type) {\n    case 'VKWebAppUpdateConfig':\n    case 'VKWebAppUpdateInsets': // Устаревшее событие vk-connect\n      const { insets } = data;\n      if (insets) {\n        return {\n          ...insets,\n          bottom: insets.bottom > 100 ? 0 : insets.bottom // если больше 100 – значит открылась клава и она сама работает как инсет, то есть наш нужно занулить\n        };\n      }\n  }\n}\n\nvkConnect.subscribe((e) => {\n  const insets = resolveInsets(e);\n  if (insets) {\n    initialState = insets;\n  }\n});\n\nexport default function withInsets (Component) {\n  return class WithInsets extends React.Component {\n    state = initialState;\n\n    componentDidMount () {\n      vkConnect.subscribe(this.connectListener);\n    }\n\n    componentWillUnmount () {\n      vkConnect.unsubscribe(this.connectListener);\n    }\n\n    connectListener = (e) => {\n      const insets = resolveInsets(e);\n      if (insets) {\n        this.setState(insets);\n      }\n    };\n\n    render () {\n      return (\n        <Component {...this.props} insets={this.state} />\n      );\n    }\n  };\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('PopoutWrapper');\n\nexport default class PopoutWrapper extends React.Component {\n  state = {\n    opened: false\n  };\n\n  static propTypes = {\n    hasMask: PropTypes.bool,\n    v: PropTypes.oneOf(['top', 'center', 'bottom']),\n    h: PropTypes.oneOf(['left', 'center', 'right']),\n    closing: PropTypes.bool,\n    onClick: PropTypes.func,\n    style: PropTypes.object,\n    children: PropTypes.node,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    hasMask: true,\n    v: 'center',\n    h: 'center',\n    closing: false\n  };\n\n  componentDidMount () {\n    window.addEventListener('touchmove', this.preventTouch, { passive: false });\n    this.waitAnimationFinish(this.el, this.onFadeInEnd);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('touchmove', this.preventTouch, { passive: false });\n    clearTimeout(this.animationFinishTimeout);\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      this.animationFinishTimeout = setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  onFadeInEnd = (e = { manual: true }) => {\n    if (e.animationName === 'animation-full-fade-in' || e.manual) {\n      this.setState({ opened: true });\n    }\n  };\n\n  preventTouch = e => e.preventDefault();\n\n  onClick = e => this.state.opened && this.props.onClick && this.props.onClick(e);\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { v, h, closing, children, hasMask, onClick, className, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, {\n        [`PopoutWrapper--v-${v}`]: v,\n        [`PopoutWrapper--h-${h}`]: h,\n        'PopoutWrapper--closing': closing\n      }, className)} onClick={this.onClick} ref={this.getRef}>\n        {hasMask && <div className=\"PopoutWrapper__mask\" />}\n        <div className=\"PopoutWrapper__container\">{children}</div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport { transitionEndEventName, transitionStartEventName } from '../View/View';\nimport { tabbarHeight } from '../../appearance/constants';\nimport withInsets from '../../hoc/withInsets';\nimport { isNumeric } from '../../lib/utils';\n\nconst baseClassNames = getClassName('FixedLayout');\n\nclass FixedLayout extends React.Component {\n  state = {\n    position: null,\n    top: null\n  };\n\n  static propTypes = {\n    children: PropTypes.node,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    vertical: PropTypes.oneOf(['top', 'bottom']),\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static contextTypes = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    hasTabbar: PropTypes.bool\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  componentDidMount () {\n    this.document.addEventListener(transitionStartEventName, this.onViewTransitionStart);\n    this.document.addEventListener(transitionEndEventName, this.onViewTransitionEnd);\n  }\n\n  componentWillUnmount () {\n    this.document.removeEventListener(transitionStartEventName, this.onViewTransitionStart);\n    this.document.removeEventListener(transitionEndEventName, this.onViewTransitionEnd);\n  }\n\n  onViewTransitionStart = (e) => {\n    let panelScroll = e.detail.scrolls[this.context.panel] || 0;\n    this.setState({\n      position: 'absolute',\n      top: this.el.offsetTop + panelScroll\n    });\n  };\n\n  onViewTransitionEnd = () => {\n    this.setState({\n      position: null,\n      top: null\n    });\n  };\n\n  getRef = (element) => {\n    this.el = element;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(element);\n      } else {\n        getRootRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const { className, children, style, vertical, getRootRef, insets, ...restProps } = this.props;\n    const tabbarPadding = this.context.hasTabbar ? tabbarHeight : 0;\n    const paddingBottom = vertical === 'bottom' && isNumeric(insets.bottom) ? insets.bottom + tabbarPadding : null;\n\n    return (\n      <div\n        {...restProps}\n        ref={this.getRef}\n        className={classNames(baseClassNames, { [`FixedLayout--${vertical}`]: vertical }, className)}\n        style={{ ...style, ...this.state, paddingBottom }}\n      >\n        <div className=\"FixedLayout__in\">{children}</div>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(FixedLayout);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('FormField');\n\nconst FormField = ({ TagName, className, children, status, getRootRef, ...restProps }) => {\n  return (\n    <TagName\n      {...restProps}\n      className={classNames(baseClassName, {\n        [`FormField--s-${status}`]: status !== 'default'\n      }, className)}\n      ref={getRootRef}\n    >\n      {children}\n      <div className=\"FormField__border\" />\n    </TagName>\n  );\n};\n\nFormField.propTypes = {\n  TagName: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  top: PropTypes.node,\n  bottom: PropTypes.node,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  status: PropTypes.oneOf(['default', 'error', 'valid'])\n};\n\nFormField.defaultProps = {\n  status: 'default',\n  TagName: 'div'\n};\n\nexport default FormField;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","export default function removeObjectKeys (obj = {}, keys = []) {\n  let newObj = { ...obj };\n\n  keys.forEach(key => delete newObj[key]);\n\n  return newObj;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('HeaderButton');\n\nconst HeaderButton = ({ className, children, primary, ...restProps }) => {\n  const isPrimitive = typeof children === 'string' || typeof children === 'number';\n  const component = restProps.href ? 'a' : 'button';\n\n  return (\n    <Tappable\n      {...restProps}\n      component={component}\n      activeEffectDelay={200}\n      className={classNames(baseClassName, className, { 'HeaderButton--primary': primary })}\n    >\n      {isPrimitive ? <span className=\"HeaderButton__primitive\">{children}</span> : children}\n    </Tappable>\n  );\n};\n\nHeaderButton.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  primary: PropTypes.bool,\n  /**\n   * Делает из кнопки ссылку\n   */\n  href: PropTypes.string\n};\n\nHeaderButton.defaultProps = {\n  primary: false\n};\n\nexport default HeaderButton;\n","/**\n * Функция для js анимации\n * @param {number} duration\n * @param {function} timing тайминг функция анимации\n * @param {function} draw коллбэк, в который прокидывается прогресс [0, 1]\n * @returns {void}\n */\nexport default function animate ({ duration, timing, draw }) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  const start = window.performance.now();\n\n  window.requestAnimationFrame(function animate (time) {\n    let timeFraction = (time - start) / duration;\n\n    if (timeFraction > 1) {\n      timeFraction = 1;\n    }\n\n    const progress = timing(timeFraction);\n\n    draw(progress);\n\n    if (timeFraction < 1) {\n      window.requestAnimationFrame(animate);\n    }\n  });\n}\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport animate from '../../lib/animate';\nimport transitionEvents from '../../lib/transitionEvents';\nimport getClassName from '../../helpers/getClassName';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport Touch from '../Touch/Touch';\nimport removeObjectKeys from '../../lib/removeObjectKeys';\nimport { baseClassNames as panelHeaderClasses } from '../PanelHeader/PanelHeader';\n\nconst baseClassNames = getClassName('View');\n\nexport const transitionStartEventName = 'VKUI:View:transition-start';\nexport const transitionEndEventName = 'VKUI:View:transition-end';\n\nlet scrollsCache = {};\n\nconst swipeBackExcludedTags = ['input', 'textarea'];\n\nexport default class View extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      scrolls: scrollsCache[props.id] || {},\n\n      visiblePanels: [props.activePanel],\n      activePanel: props.activePanel,\n      isBack: undefined,\n      prevPanel: null,\n      nextPanel: null,\n\n      swipingBack: false,\n      swipebackStartX: 0,\n      swipeBackShift: 0,\n      swipeBackNextPanel: null,\n      swipeBackPrevPanel: null,\n      swipingBackFinish: null,\n\n      browserSwipe: false\n    };\n  }\n\n  static propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n    activePanel: PropTypes.string,\n    header: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    children: PropTypes.node,\n    popout: PropTypes.node,\n    modal: PropTypes.node,\n    onTransition: PropTypes.func,\n    /**\n     * @ignore\n     */\n    onSwipeBack: PropTypes.func,\n    /**\n     * @ignore\n     */\n    onSwipeBackStart: PropTypes.func,\n    /**\n     * @ignore\n     */\n    history: PropTypes.arrayOf(PropTypes.string),\n    id: PropTypes.string\n  };\n\n  static defaultProps = {\n    style: {},\n    children: null,\n    popout: null,\n    header: true,\n    history: []\n  };\n\n  static contextTypes = {\n    isWebView: PropTypes.bool,\n    window: PropTypes.any,\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  get panels () {\n    return [].concat(this.props.children);\n  }\n\n  refsStore = {};\n\n  componentWillReceiveProps (nextProps) {\n    nextProps.popout && !this.props.popout && this.blurActiveElement();\n    nextProps.modal && !this.props.modal && this.blurActiveElement();\n\n    // Нужен переход\n    if (this.props.activePanel !== nextProps.activePanel && !this.state.swipingBack && !this.state.browserSwipe) {\n      const firstLayer = this.panels.find(\n        panel => panel.props.id === this.props.activePanel || panel.props.id === nextProps.activePanel\n      );\n\n      const isBack = firstLayer && firstLayer.props.id === nextProps.activePanel;\n\n      this.blurActiveElement();\n\n      this.setState({\n        visiblePanels: [this.props.activePanel, nextProps.activePanel],\n        prevPanel: this.props.activePanel,\n        nextPanel: nextProps.activePanel,\n        activePanel: null,\n        animated: true,\n        scrolls: {\n          ...this.state.scrolls,\n          [this.props.activePanel]: this.window.pageYOffset\n        },\n        isBack\n      });\n    }\n\n    // Закончилась анимация свайпа назад\n    if (this.props.activePanel !== nextProps.activePanel && this.state.swipingBack) {\n      const nextPanel = nextProps.activePanel;\n      const prevPanel = this.props.activePanel;\n      this.setState({\n        swipeBackPrevPanel: null,\n        swipeBackNextPanel: null,\n        swipingBack: false,\n        swipingBackFinish: null,\n        swipebackStartX: 0,\n        swipeBackShift: 0,\n        activePanel: nextPanel,\n        visiblePanels: [nextPanel],\n        scrolls: removeObjectKeys(this.state.scrolls, [this.state.swipeBackPrevPanel])\n      }, () => {\n        this.document.dispatchEvent(new this.window.CustomEvent(transitionEndEventName));\n        window.scrollTo(0, this.state.scrolls[this.state.activePanel]);\n        this.props.onTransition && this.props.onTransition({ isBack: true, from: prevPanel, to: nextPanel });\n      });\n    }\n  }\n\n  componentWillUnmount () {\n    if (this.props.id) {\n      scrollsCache[this.props.id] = this.state.scrolls;\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    const scrolls = this.state.scrolls;\n\n    // Начался переход\n    if (!prevState.animated && this.state.animated) {\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionStartEventName, { detail: { scrolls } }));\n      const nextPanelElement = this.pickPanel(this.state.nextPanel);\n      const prevPanelElement = this.pickPanel(this.state.prevPanel);\n\n      prevPanelElement.scrollTop = scrolls[this.state.prevPanel];\n      if (this.state.isBack) {\n        nextPanelElement.scrollTop = scrolls[this.state.nextPanel];\n      }\n      this.waitAnimationFinish(this.pickPanel(this.state.isBack ? this.state.prevPanel : this.state.nextPanel), this.transitionEndHandler);\n    }\n\n    // Начался свайп назад\n    if (!prevState.swipingBack && this.state.swipingBack) {\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionStartEventName, { detail: { scrolls } }));\n      this.props.onSwipeBackStart && this.props.onSwipeBackStart();\n      const nextPanelElement = this.pickPanel(this.state.swipeBackNextPanel);\n      const prevPanelElement = this.pickPanel(this.state.swipeBackPrevPanel);\n\n      nextPanelElement.scrollTop = scrolls[this.state.swipeBackNextPanel];\n      prevPanelElement.scrollTop = scrolls[this.state.swipeBackPrevPanel];\n    }\n\n    // Началась анимация завершения свайпа назад.\n    if (prevState.swipingBackFinish === null && this.state.swipingBackFinish !== null) {\n      this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel), this.swipingBackTransitionEndHandler);\n    }\n\n    // Если свайп назад отменился (когда пользователь недостаточно сильно свайпнул)\n    if (prevState.swipingBackFinish === false && this.state.swipingBackFinish === null) {\n      this.window.scrollTo(0, scrolls[this.state.activePanel]);\n    }\n\n    // Закончился Safari свайп\n    if (prevProps.activePanel !== this.props.activePanel && this.state.browserSwipe) {\n      this.setState({\n        browserSwipe: false,\n        nextPanel: null,\n        prevPanel: null,\n        animated: false,\n        visiblePanels: [this.props.activePanel],\n        activePanel: this.props.activePanel\n      });\n    }\n  }\n\n  waitTransitionFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'TransitionEnd' : 'transitionend';\n\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  blurActiveElement () {\n    if (typeof this.window !== 'undefined' && this.document.activeElement) {\n      this.document.activeElement.blur();\n    }\n  }\n\n  pickPanel (id) {\n    const elem = this.document.getElementById(id);\n\n    if (!elem) {\n      console.warn(`Element #${id} not found`);\n    }\n\n    return elem && elem.parentNode.parentNode;\n  }\n\n  transitionEndHandler = (e = { manual: true }) => {\n    if ([\n      'animation-ios-next-forward',\n      'animation-ios-prev-back',\n      'animation-android-next-forward',\n      'animation-android-prev-back'\n    ].indexOf(e.animationName) > -1 || e.manual) {\n      const activePanel = this.props.activePanel;\n      const isBack = this.state.isBack;\n      const prevPanel = this.state.prevPanel;\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionEndEventName));\n      this.setState({\n        prevPanel: null,\n        nextPanel: null,\n        visiblePanels: [activePanel],\n        activePanel: activePanel,\n        animated: false,\n        isBack: undefined,\n        scrolls: isBack ? removeObjectKeys(this.state.scrolls, [prevPanel]) : this.state.scrolls\n      }, function () {\n        isBack && this.window.scrollTo(0, this.state.scrolls[activePanel]);\n        this.props.onTransition && this.props.onTransition({ isBack, from: prevPanel, to: activePanel });\n      });\n    }\n  };\n\n  swipingBackTransitionEndHandler = (e) => {\n    // indexOf because of vendor prefixes in old browsers\n    if (e.propertyName.indexOf('transform') >= 0 && e.target.classList.contains('View__panel--swipe-back-next')) {\n      this.state.swipingBackFinish ? this.onSwipeBackSuccess() : this.onSwipeBackCancel();\n    }\n  };\n\n  onSwipeBackSuccess () {\n    this.props.onSwipeBack && this.props.onSwipeBack();\n  }\n\n  onSwipeBackCancel () {\n    this.setState({\n      swipeBackPrevPanel: null,\n      swipeBackNextPanel: null,\n      swipingBack: false,\n      swipingBackFinish: null,\n      swipebackStartX: 0,\n      swipeBackShift: 0\n    }, () => {\n      this.document.dispatchEvent(new this.window.CustomEvent(transitionEndEventName));\n    });\n  }\n\n  onScrollTop = () => {\n    const { activePanel } = this.state;\n\n    if (activePanel) {\n      const scrollTop = this.document.body.scrollTop || this.document.documentElement.scrollTop;\n\n      if (scrollTop) {\n        animate({\n          duration: 200,\n          timing: n => Math.sqrt(n),\n          draw: (val) => {\n            this.window.scrollTo(0, scrollTop - val * scrollTop);\n          }\n        });\n      }\n    }\n  };\n\n  onMoveX = (e) => {\n    if (swipeBackExcludedTags.indexOf(e.originalEvent.target.tagName.toLowerCase()) > -1) {\n      return;\n    }\n\n    if (IS_PLATFORM_IOS && !this.context.isWebView && (e.startX <= 70 || e.startX >= this.window.innerWidth - 70) && !this.state.browserSwipe) {\n      this.setState({ browserSwipe: true });\n    }\n\n    if (IS_PLATFORM_IOS && this.context.isWebView && this.props.onSwipeBack) {\n      if (this.state.animated && e.startX <= 70) {\n        return;\n      }\n\n      if (e.startX <= 70 && !this.state.swipingBack && this.props.history.length > 1) {\n        this.setState({\n          swipingBack: true,\n          swipebackStartX: e.startX,\n          startT: e.startT,\n          swipeBackPrevPanel: this.state.activePanel,\n          swipeBackNextPanel: this.props.history.slice(-2)[0],\n          scrolls: {\n            ...this.state.scrolls,\n            [this.state.activePanel]: this.window.pageYOffset\n          }\n        });\n      }\n      if (this.state.swipingBack) {\n        let swipeBackShift;\n        if (e.shiftX < 0) {\n          swipeBackShift = 0;\n        } else if (e.shiftX > this.window.innerWidth - this.state.swipebackStartX) {\n          swipeBackShift = this.window.innerWidth;\n        } else {\n          swipeBackShift = e.shiftX;\n        }\n        this.setState({ swipeBackShift });\n      }\n    }\n  };\n\n  onEnd = () => {\n    if (this.state.swipingBack) {\n      const speed = this.state.swipeBackShift / (new Date() - this.state.startT) * 1000;\n      if (this.state.swipeBackShift === 0) {\n        this.onSwipeBackCancel();\n      } else if (this.state.swipeBackShift >= this.window.innerWidth) {\n        this.onSwipeBackSuccess();\n      } else {\n        this.setState({ swipingBackFinish: speed > 250 || this.state.swipebackStartX + this.state.swipeBackShift > this.window.innerWidth / 2 });\n      }\n    }\n  };\n\n  getRef = (c) => {\n    if (c && c.container && c.id) {\n      let el = c;\n\n      while (el.container) {\n        el = el.container;\n      }\n\n      this.refsStore[c.id] = el;\n    }\n  };\n\n  calcPanelSwipeStyles (panelId) {\n    const isPrev = panelId === this.state.swipeBackPrevPanel;\n    const isNext = panelId === this.state.swipeBackNextPanel;\n\n    if (!isPrev && !isNext || this.state.swipingBackFinish !== null) {\n      return {};\n    }\n\n    let prevPanelTranslate = `${this.state.swipeBackShift}px`;\n    let nextPanelTranslate = `${-50 + (this.state.swipeBackShift * 100 / this.window.innerWidth) / 2}%`;\n    let prevPanelShadow = 0.3 * (this.window.innerWidth - this.state.swipeBackShift) / this.window.innerWidth;\n\n    if (this.state.swipingBackFinish !== null) {\n      return isPrev ? { boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})` } : {};\n    }\n\n    if (isNext) {\n      return {\n        transform: `translate3d(${nextPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${nextPanelTranslate}, 0, 0)`\n      };\n    }\n    if (isPrev) {\n      return {\n        transform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})`\n      };\n    }\n\n    return {};\n  }\n\n  calcHeaderSwipeStyles (panelId) {\n    const isPrev = panelId === this.state.swipeBackPrevPanel;\n    const isNext = panelId === this.state.swipeBackNextPanel;\n\n    if (!isPrev && !isNext || this.state.swipingBackFinish !== null) {\n      return {\n        title: {},\n        bg: {},\n        left: {},\n        addon: {},\n        right: {}\n      };\n    }\n\n    let opacity = this.state.swipeBackShift / this.window.innerWidth;\n    let titleTransform = this.state.swipeBackShift / this.window.innerWidth * 30;\n    let leftTransform = this.state.swipeBackShift / this.window.innerWidth * 30;\n\n    if (isNext) {\n      return {\n        title: {\n          transform: `translate3d(${-30 + titleTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${-30 + titleTransform}vw, 0, 0)`,\n          opacity\n        },\n        left: { opacity },\n        addon: {\n          opacity: 1,\n          transform: `translate3d(${-30 + leftTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${-30 + leftTransform}vw, 0, 0)`\n        },\n        right: { opacity }\n      };\n    }\n    if (isPrev) {\n      return {\n        title: {\n          transform: `translate3d(${titleTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${titleTransform}vw, 0, 0)`,\n          opacity: 1 - opacity\n        },\n        bg: { opacity: 1 - opacity },\n        left: { opacity: 1 - opacity },\n        addon: {\n          transform: `translate3d(${leftTransform}vw, 0, 0)`,\n          WebkitTransform: `translate3d(${leftTransform}vw, 0, 0)`,\n          opacity: 1 - opacity\n        }\n      };\n    }\n  }\n\n  render () {\n    const { style, popout, modal, header } = this.props;\n    const { prevPanel, nextPanel, activePanel, swipeBackPrevPanel, swipeBackNextPanel, swipingBackFinish } = this.state;\n\n    const hasPopout = !!popout;\n    const hasModal = !!modal;\n\n    const panels = this.panels.filter(panel => {\n      const panelId = panel.props.id;\n\n      return this.state.visiblePanels.indexOf(panelId) > -1 ||\n        panelId === swipeBackPrevPanel ||\n        panelId === swipeBackNextPanel;\n    });\n\n    const modifiers = {\n      'View--header': header,\n      'View--animated': this.state.animated,\n      'View--swiping-back': this.state.swipingBack\n    };\n\n    return (\n      <Touch\n        component=\"section\"\n        className={classNames(baseClassNames, this.props.className, modifiers)}\n        style={style}\n        onMoveX={this.onMoveX}\n        onEnd={this.onEnd}\n      >\n        {header && (\n          <div className=\"View__header\">\n            { IS_PLATFORM_IOS && <div className=\"View__header-scrolltop\" onClick={this.onScrollTop} /> }\n            <div className={classNames(panelHeaderClasses)}>\n              {panels.map(panel => {\n                const panelId = panel.props.id;\n                const headerSwipeStyles = this.calcHeaderSwipeStyles(panelId);\n\n                return (\n                  <div\n                    className={classNames('PanelHeader__in', {\n                      'PanelHeader__in--active': panelId === activePanel,\n                      'PanelHeader__in--prev': panelId === prevPanel,\n                      'PanelHeader__in--next': panelId === nextPanel,\n                      'PanelHeader__in--swipe-back-prev': panelId === swipeBackPrevPanel,\n                      'PanelHeader__in--swipe-back-next': panelId === swipeBackNextPanel,\n                      'PanelHeader__in--swipe-back-success': swipingBackFinish === true,\n                      'PanelHeader__in--swipe-back-failed': swipingBackFinish === false\n                    })}\n                    key={panelId}\n                    id={`panel-header-${panelId}`}\n                  >\n                    <div\n                      className=\"PanelHeader__bg\"\n                      key={panelId}\n                      id={`header-bg-${panelId}`}\n                      style={headerSwipeStyles.bg}\n                    />\n                    <div className=\"PanelHeader__container\">\n                      <div className=\"PanelHeader__left\">\n                        <div\n                          className=\"PanelHeader__left-in\"\n                          id={`header-left-${panelId}`}\n                          style={headerSwipeStyles.left}\n                        />\n                        {IS_PLATFORM_IOS &&\n                        <div\n                          className=\"PanelHeader__addon\"\n                          id={`header-addon-${panelId}`}\n                          style={headerSwipeStyles.icon}\n                        />\n                        }\n                      </div>\n                      <div\n                        className=\"PanelHeader__content\"\n                        style={headerSwipeStyles.title}\n                        id={`header-title-${panelId}`}\n                      />\n                      <div\n                        className=\"PanelHeader__right\"\n                        id={`header-right-${panelId}`}\n                        style={headerSwipeStyles.right}\n                      />\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n        <div className=\"View__panels\">\n          {panels.map(panel => {\n            const panelId = panel.props.id;\n\n            return (\n              <div\n                className={classNames('View__panel', {\n                  'View__panel--active': panelId === activePanel,\n                  'View__panel--prev': panelId === prevPanel,\n                  'View__panel--next': panelId === nextPanel,\n                  'View__panel--swipe-back-prev': panelId === swipeBackPrevPanel,\n                  'View__panel--swipe-back-next': panelId === swipeBackNextPanel,\n                  'View__panel--swipe-back-success': swipingBackFinish === true,\n                  'View__panel--swipe-back-failed': swipingBackFinish === false\n                })}\n                style={this.calcPanelSwipeStyles(panelId)}\n                key={panelId}\n              >\n                <div className=\"View__panel-in\">\n                  {panel}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        {hasPopout && <div className=\"View__popout\">{popout}</div>}\n        {hasModal && <div className=\"View__modal\">{modal}</div>}\n      </Touch>\n    );\n  }\n}\n","import React from 'react';\nimport Tappable from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nimport CellButton from '../CellButton/CellButton';\n\nconst baseClassName = getClassName('Button');\n\nconst mapOldLevel = level => {\n  switch (level) {\n    case '1':\n      return 'primary';\n    case '2':\n      return 'secondary';\n    case '3':\n      return 'tertiary';\n    case 'sell':\n      return 'outline';\n    case 'buy':\n      return 'commerce';\n    default:\n      return level;\n  }\n};\n\nconst Button = props => {\n  if (props.type === 'cell') {\n    return <CellButton {...props} />;\n  } else {\n    const { className, size, level, stretched, align, children, before, after, type, ...restProps } = props;\n\n    return <Tappable {...restProps} className={classNames(baseClassName, className, {\n      [`Button--sz-${size}`]: true,\n      [`Button--lvl-${mapOldLevel(level)}`]: true,\n      [`Button--aln-${align || 'center'}`]: true,\n      [`Button--str`]: stretched\n    })} stopPropagation>\n      <div className=\"Button__in\">\n        {before && <div className=\"Button__before\">{before}</div>}\n        {children && <div className=\"Button__content\">{children}</div>}\n        {after && <div className=\"Button__after\">{after}</div>}\n      </div>\n    </Tappable>;\n  }\n};\n\nButton.propTypes = {\n  /**\n   * Значения `1`, `2`, `3`, `sell`, `buy` устарели. Маппинг на новые значения находится в\n   * статическом методе `Button.mapOldLevel(level)`. Старые значения будут удалены в 3.0.0\n   */\n  level: PropTypes.oneOf(['primary', 'secondary', 'tertiary', 'outline', 'commerce', 'destructive', '1', '2', '3', 'sell', 'buy']),\n  size: PropTypes.oneOf(['m', 'l', 'xl']),\n  /**\n   * @deprecated Кнопки-ячейки `<Button type=\"cell\" />` переехали в отдельный компонент: `<CellButton />`.\n   * Свойство `type` будет удалено в 3.0.0\n   */\n  type: PropTypes.oneOf(['default', 'cell']),\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  stretched: PropTypes.bool,\n  before: PropTypes.node,\n  after: PropTypes.node,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  component: PropTypes.any\n};\n\nButton.defaultProps = {\n  level: 'primary',\n  type: 'default',\n  component: 'button',\n  size: 'm',\n  stretched: false\n};\n\nexport default Button;\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassNames = getClassName('Slider');\n\nfunction precisionRound (number, precision) {\n  let factor = Math.pow(10, precision || 1);\n  return Math.round(number * factor) / factor;\n}\n\nexport default class Slider extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      startX: 0\n    };\n    this.isControlledOutside = this.props.hasOwnProperty('value');\n  }\n\n  static propTypes = {\n    min: PropTypes.number,\n    max: PropTypes.number,\n    value: PropTypes.number,\n    step: PropTypes.number,\n    onChange: PropTypes.func,\n    defaultValue: PropTypes.number,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    min: 0,\n    max: 100,\n    step: 0\n  };\n\n  onStart = e => {\n    const absolutePosition = this.validateAbsolute(e.startX - this.state.containerLeft);\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n\n    this.onChange(this.percentToValue(percentPosition), e);\n\n    if (this.isControlledOutside) {\n      this.setState({startX: absolutePosition});\n    } else {\n      this.setState({\n        startX: absolutePosition,\n        percentPosition\n      });\n    }\n\n    this.setState({active: !!e.originalEvent.target.closest('.Slider__thumb')});\n  };\n\n  onMoveX = e => {\n    const absolutePosition = this.validateAbsolute(this.state.startX + (e.shiftX || 0));\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n\n    this.onChange(this.percentToValue(percentPosition), e);\n\n    if (!this.isControlledOutside) {\n      this.setState({percentPosition});\n    }\n\n    e.originalEvent.preventDefault();\n  };\n\n  onEnd = () => {\n    this.setState({\n      active: false\n    });\n  };\n\n  onResize = (callback) => {\n    this.setState({\n      containerLeft: this.container.offsetLeft,\n      containerWidth: this.container.offsetWidth\n    }, () => {\n      typeof callback === 'function' && callback();\n    });\n  };\n\n  onChange (value, e) {\n    this.props.onChange && this.props.onChange(value, e);\n  }\n\n  validateAbsolute (absolute) {\n    let res = Math.max(0, Math.min(absolute, this.state.containerWidth));\n\n    if (this.props.step > 0) {\n      const stepCount = (this.props.max - this.props.min) / this.props.step;\n      const absStep = this.state.containerWidth / stepCount;\n\n      res = Math.round(res / absStep) * absStep;\n    }\n\n    return res;\n  }\n\n  validatePercent (percent) { return Math.max(0, Math.min(percent, 100)); }\n\n  absoluteToPecent (absolute) { return absolute * 100 / this.state.containerWidth; }\n\n  percentToValue (percent) {\n    const res = percent * (this.props.max - this.props.min) / 100 + this.props.min;\n    if (this.props.step > 0) {\n      const stepFloatPart = `${this.props.step}`.split('.')[1] || '';\n      return precisionRound(res, stepFloatPart.length);\n    }\n    return res;\n  }\n\n  valueToPercent (value) { return (value - this.props.min) * 100 / (this.props.max - this.props.min); }\n\n  get value () {\n    if (this.isControlledOutside) {\n      return this.props.value;\n    } else if (this.props.hasOwnProperty('defaultValue')) {\n      return this.props.defaultValue;\n    } else {\n      return this.props.min;\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.onResize);\n    this.onResize(() => {\n      this.setState({percentPosition: this.validatePercent(this.valueToPercent(this.value))});\n    });\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.isControlledOutside && this.props.value !== prevProps.value) {\n      this.setState({percentPosition: this.validatePercent(this.valueToPercent(this.props.value))});\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.onResize);\n  }\n\n  getRef = container => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render () {\n    const { className, min, max, step, value, defaultValue, onChange, getRootRef, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, className)} ref={this.getRef}>\n        <Touch onStart={this.onStart} onMoveX={this.onMoveX} onEnd={this.onEnd} className=\"Slider__in\">\n          <div className=\"Slider__dragger\" style={{ width: this.state.percentPosition + '%' }}>\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--end', {\n                'Slider__thumb--active': this.state.active\n              })}\n            />\n          </div>\n        </Touch>\n      </div>\n    );\n  }\n}\n","(function() {\n  function isFunction(object) {\n    return typeof object === 'function';\n  }\n\n  var subscribers = [];\n  var webFrameId = null;\n  var connectVersion = '1.5.5';\n\n  var isClient = typeof window !== 'undefined';\n  var isIOSNativeClient =\n    isClient &&\n    window.webkit &&\n    window.webkit.messageHandlers !== undefined &&\n    window.webkit.messageHandlers.VKWebAppClose !== undefined;\n\n  var androidBridge = isClient && window.AndroidBridge;\n  var iosBridge = isIOSNativeClient && window.webkit.messageHandlers;\n\n  var isWeb = isClient && !androidBridge && !iosBridge;\n  var eventType = isWeb ? 'message' : 'VKWebAppEvent';\n\n  if (isClient) {\n    // polyfill\n    if (!window.CustomEvent) {\n      (function() {\n        function CustomEvent(event, params) {\n          params = params || { bubbles: false, cancelable: false, detail: undefined };\n          var evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        }\n\n        CustomEvent.prototype = window.Event.prototype;\n\n        window.CustomEvent = CustomEvent;\n      })();\n    }\n\n    window.addEventListener(eventType, function() {\n      var args = Array.prototype.slice.call(arguments);\n      var _subscribers = subscribers.slice();\n      if (isWeb) {\n        if (Object.prototype.hasOwnProperty.call(args[0].data, 'webFrameId')) {\n          delete args[0].data.webFrameId;\n        }\n        if (Object.prototype.hasOwnProperty.call(args[0].data, 'connectVersion')) {\n          delete args[0].data.connectVersion;\n        }\n        if (args[0].data.type && args[0].data.type === 'VKWebAppSettings') {\n          webFrameId = args[0].data.frameId;\n        } else {\n          _subscribers.forEach(function(fn) {\n            fn({\n              detail: args[0].data\n            });\n          });\n        }\n      } else {\n        _subscribers.forEach(function(fn) {\n          fn.apply(null, args);\n        });\n      }\n    });\n  }\n\n  var vkConnect = {\n    /**\n     * Sends a message to native client\n     *\n     * @example\n     * message.send('VKWebAppInit');\n     *\n     * @param {String} handler Message type\n     * @param {Object} params Message data\n     * @returns {void}\n     */\n    send: function send(handler, params) {\n      if (!params) {\n        params = {};\n      }\n\n      if (androidBridge && isFunction(androidBridge[handler])) {\n        androidBridge[handler](JSON.stringify(params));\n      }\n      if (iosBridge && iosBridge[handler] && isFunction(iosBridge[handler].postMessage)) {\n        iosBridge[handler].postMessage(params);\n      }\n\n      if (isWeb) {\n        parent.postMessage(\n          {\n            handler: handler,\n            params: params,\n            type: 'vk-connect',\n            webFrameId: webFrameId,\n            connectVersion: connectVersion\n          },\n          '*'\n        );\n      }\n    },\n    /**\n     * Subscribe on VKWebAppEvent\n     *\n     * @param {Function} fn Event handler\n     * @returns {void}\n     */\n    subscribe: function subscribe(fn) {\n      subscribers.push(fn);\n    },\n    /**\n     * Unsubscribe on VKWebAppEvent\n     *\n     * @param {Function} fn Event handler\n     * @returns {void}\n     */\n    unsubscribe: function unsubscribe(fn) {\n      var index = subscribers.indexOf(fn);\n\n      if (index > -1) {\n        subscribers.splice(index, 1);\n      }\n    },\n\n    /**\n     * Checks if it is client webview\n     *\n     * @returns {boolean}\n     */\n    isWebView: function isWebView() {\n      return !!(androidBridge || iosBridge);\n    },\n\n    /**\n     * Checks if native client supports nandler\n     *\n     * @param {String} handler Handler name\n     * @returns {boolean}\n     */\n    supports: function supports(handler) {\n      var desktopEvents = [\n        'VKWebAppInit',\n        'VKWebAppGetCommunityAuthToken',\n        'VKWebAppAddToCommunity',\n        'VKWebAppGetUserInfo',\n        'VKWebAppSetLocation',\n        'VKWebAppGetClientVersion',\n        'VKWebAppGetPhoneNumber',\n        'VKWebAppGetEmail',\n        'VKWebAppGetGeodata',\n        'VKWebAppSetTitle',\n        'VKWebAppGetAuthToken',\n        'VKWebAppCallAPIMethod',\n        'VKWebAppJoinGroup',\n        'VKWebAppAllowMessagesFromGroup',\n        'VKWebAppDenyNotifications',\n        'VKWebAppAllowNotifications',\n        'VKWebAppOpenPayForm',\n        'VKWebAppOpenApp',\n        'VKWebAppShare',\n        'VKWebAppShowWallPostBox',\n        'VKWebAppScroll',\n        'VKWebAppResizeWindow',\n        'VKWebAppShowOrderBox',\n        'VKWebAppShowLeaderBoardBox',\n        'VKWebAppShowInviteBox',\n        'VKWebAppShowRequestBox',\n        'VKWebAppAddToFavorites'\n      ];\n\n      if (androidBridge && isFunction(androidBridge[handler])) return true;\n      if (iosBridge && iosBridge[handler] && isFunction(iosBridge[handler].postMessage)) return true;\n      if (!iosBridge && !androidBridge && ~desktopEvents.indexOf(handler)) return true;\n\n      return false;\n    }\n  };\n\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\n    module.exports = vkConnect;\n  } else {\n    var root;\n    if (typeof window !== 'undefined') {\n      root = window;\n    } else if (typeof global !== 'undefined') {\n      root = global;\n    } else if (typeof self !== 'undefined') {\n      root = self;\n    } else {\n      root = this;\n    }\n\n    root.vkConnect = vkConnect;\n\n    // Backward compatibility\n    root.vkuiConnect = vkConnect;\n  }\n})();\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('Avatar');\n\nconst Avatar = ({ src, size, type, style, className, children, getRootRef, ...restProps }) => {\n  const Component = src ? 'img' : 'div';\n  let borderRadius;\n\n  switch (type) {\n    case 'default':\n      borderRadius = '50%';\n      break;\n    case 'image':\n      borderRadius = 4;\n      break;\n    case 'app':\n      borderRadius = Math.floor(size * 10 / 48);\n      break;\n  }\n\n  return (\n    <div className={classNames(baseClassName, className, { [`Avatar--type-${type}`]: true })} ref={getRootRef}>\n      <div className=\"Avatar__in\">\n        <Component\n          {...restProps}\n          className=\"Avatar__img\"\n          src={src}\n          style={{ ...style, width: size, height: size, borderRadius }}\n        />\n        {children && <div className=\"Avatar__children\" style={{ width: size, height: size, borderRadius }}>{children}</div>}\n      </div>\n    </div>\n  );\n};\n\nAvatar.propTypes = {\n  size: PropTypes.oneOf([80, 72, 64, 56, 48, 44, 40, 36, 32, 28]),\n  src: PropTypes.string,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  type: PropTypes.oneOf(['default', 'image', 'app']),\n  children: PropTypes.node,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nAvatar.defaultProps = {\n  size: 48,\n  type: 'default'\n};\n\nexport default Avatar;\n\n","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","module.exports = __WEBPACK_EXTERNAL_MODULE__23__;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport Tappable from '../Tappable/Tappable';\nimport Touch from '../Touch/Touch';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Reorder from '@vkontakte/icons/dist/24/reorder';\nimport Icon24ReorderIos from '@vkontakte/icons/dist/24/reorder_ios';\n\nconst baseClassNames = getClassName('Cell');\n\nexport default class Cell extends Component {\n  static propTypes = {\n    /**\n     * Контейнер для контента от `children`.\n     */\n    before: PropTypes.node,\n    /**\n     * Контейнер для текста справа от `children`.\n     */\n    indicator: PropTypes.node,\n    /**\n     * Контейнер для контента справа от `children` и `indicator`.\n     */\n    asideContent: PropTypes.node,\n    /**\n     * Выставляйте этот флаг, если клик по ячейке вызывает переход на другую панель. Флаг нужен для корректной\n     * стилизации такой ячейки.\n     */\n    expandable: PropTypes.bool,\n    children: PropTypes.node,\n    onClick: PropTypes.func,\n    /**\n     * Добавляет возможность переноса содержимого `children` и `description`. Без этого флага текст будет уходить\n     * в троеточие.\n     */\n    multiline: PropTypes.bool,\n    /**\n     * Контейнер для дополнительного содержимого под `children`.\n     */\n    description: PropTypes.node,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    /**\n     * Контейнер для произвольного содержимого под `description`. Рисуется только если передать `size=\"l\"`.\n     */\n    bottomContent: PropTypes.node,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    /**\n     * Размер влияет на выравнивание блоков по вертикали, вид сепаратора (iOS) и возможность вставлять `bottomContent`.\n     */\n    size: PropTypes.oneOf(['m', 'l']),\n    /**\n     * Флаг для перехода в режим ячеек-чекбоксов.\n     * **Важно:** в этом режиме обработчик `onClick` вызываться не будет.\n     * **Важно:** этот режим несовместим с `draggable`. В случае истинности двух этих флагов, приоритет отдается\n     * `draggable`.\n     */\n    selectable: PropTypes.bool,\n    /**\n     * Флаг для перехода в режим удаляемых ячеек. **Важно:** в этом режиме обработчик `onClick` вызываться не будет.\n     */\n    removable: PropTypes.bool,\n    /**\n     * Коллбэк срабатывает при клике на контрол удаления.\n     */\n    onRemove: PropTypes.func,\n    /**\n     * iOS only. Текст в выезжаеющей кнопке для удаления ячейки.\n     */\n    removePlaceholder: PropTypes.node,\n    /**\n     * Флаг для перехода в режим перетаскивания. **Важно:** в этом режиме обработчик `onClick` вызываться не будет.\n     */\n    draggable: PropTypes.bool,\n    /**\n     * Коллбэк срабатывает при завершении перетаскивания.\n     * **Важно:** режим перетаскивания не меняет порядок ячеек в DOM. В коллбэке есть объект с полями `from` и `to`.\n     * Эти числа нужны для того, чтобы разработчик понимал, с какого индекса на какой произошел переход. В песочнице\n     * есть рабочий пример с обработкой этих чисел и перерисовкой списка.\n     */\n    onDragFinish: PropTypes.func,\n    /**\n     * При передаче `href`, ячейка становится полноценной ссылкой. Поддерживаются все валидные для этого элемента\n     * атрибуты (`target`, `rel` и т.д.).\n     */\n    href: PropTypes.string\n  };\n\n  static defaultProps = {\n    before: null,\n    indicator: '',\n    asideContent: '',\n    bottomContent: null,\n    expandable: false,\n    children: '',\n    selectable: false,\n    multiline: false,\n    removable: false,\n    size: 'm',\n    removePlaceholder: 'Удалить'\n  };\n\n  static contextTypes = {\n    document: PropTypes.any\n  };\n\n  state = {\n    isRemoveActivated: false,\n    removeOffset: 0,\n    dragging: false\n  };\n\n  get document () { return this.context.document || document; }\n\n  /**\n   * предотвращает двойное срабатывание в случае с input\n   * (https://github.com/vuejs/vue/issues/3699#issuecomment-247957931)\n   * предотвращает клик в случае, когда включен режим removable\n   * @param e\n   */\n  onClick = (e) => {\n    const { removable, onClick } = this.props;\n    if (e.target.tagName.toLowerCase() === 'input') {\n      e.stopPropagation();\n    } else if (removable) {\n      return null;\n    } else {\n      onClick && onClick(e);\n    }\n  };\n\n  activateRemove = () => {\n    this.setState({ isRemoveActivated: true });\n    this.document.addEventListener('click', this.deactivateRemove);\n  };\n\n  deactivateRemove = () => {\n    this.setState({ isRemoveActivated: false, removeOffset: 0 });\n    this.document.removeEventListener('click', this.deactivateRemove);\n  };\n\n  onRemoveClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    e.preventDefault();\n    this.props.onRemove && this.props.onRemove(e, this.rootEl);\n  };\n\n  componentWillUnmount () {\n    this.document.removeEventListener('click', this.deactivateRemove);\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevState.isRemoveActivated !== this.state.isRemoveActivated && this.state.isRemoveActivated) {\n      this.setState({ removeOffset: this.removeButton.offsetWidth });\n    }\n  }\n\n  getRemoveRef = el => this.removeButton = el;\n\n  getRootRef = (element) => {\n    this.rootEl = element;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(element);\n      } else {\n        getRootRef.current = element;\n      }\n    }\n  };\n\n  onDragStart = () => {\n    this.setState({ dragging: true });\n    this.dragShift = 0;\n    this.listEl = this.rootEl.closest('.List');\n    this.listEl && this.listEl.classList.add('List--dragging');\n    this.siblings = Array.prototype.slice.call(this.rootEl.parentElement.childNodes);\n    this.dragStartIndex = this.siblings.indexOf(this.rootEl);\n  };\n\n  onDragMove = (e) => {\n    e.originalEvent.preventDefault();\n    if (this.state.removeOffset) return;\n\n    this.rootEl.style.transform = `translateY(${e.shiftY}px)`;\n    const rootGesture = this.rootEl.getBoundingClientRect();\n    this.dragDirection = this.dragShift - e.shiftY < 0 ? 'down' : 'up';\n    this.dragShift = e.shiftY;\n    this.dragEndIndex = this.dragStartIndex;\n\n    this.siblings.forEach((sibling, siblingIndex) => {\n      const siblingGesture = sibling.getBoundingClientRect();\n      if (this.dragStartIndex < siblingIndex) {\n        if (rootGesture.bottom > siblingGesture.top + siblingGesture.height / 2) {\n          if (this.dragDirection === 'down') sibling.style.transform = `translateY(-100%)`;\n          this.dragEndIndex++;\n        }\n        if (rootGesture.top < siblingGesture.bottom - siblingGesture.height / 2 && this.dragDirection === 'up') {\n          sibling.style.transform = `translateY(0)`;\n        }\n      } else if (this.dragStartIndex > siblingIndex) {\n        if (rootGesture.top < siblingGesture.bottom - siblingGesture.height / 2) {\n          if (this.dragDirection === 'up') sibling.style.transform = `translateY(100%)`;\n          this.dragEndIndex--;\n        }\n        if (rootGesture.bottom > siblingGesture.top + siblingGesture.height / 2 && this.dragDirection === 'down') {\n          sibling.style.transform = `translateY(0)`;\n        }\n      }\n    });\n  };\n\n  onDragEnd = () => {\n    this.setState({ dragging: false });\n    this.listEl && this.listEl.classList.remove('List--dragging');\n    this.props.onDragFinish && this.props.onDragFinish({ from: this.dragStartIndex, to: this.dragEndIndex });\n    this.siblings.forEach(sibling => sibling.style.transform = null);\n    delete this.dragShift;\n    delete this.listEl;\n    delete this.siblings;\n    delete this.dragStartIndex;\n    delete this.dragEndIndex;\n    delete this.dragDirection;\n  };\n\n  render () {\n    let {\n      before,\n      indicator,\n      asideContent,\n      expandable,\n      onClick,\n      children,\n      getRootRef,\n      description,\n      selectable,\n      multiline,\n      className,\n      onRemove,\n      removable,\n      removePlaceholder,\n      draggable,\n      onDragFinish,\n      href,\n      size,\n      bottomContent,\n      ...restProps\n    } = this.props;\n\n    selectable = selectable && !draggable;\n\n    const rootProps = selectable ? {} : restProps;\n    const inputProps = selectable ? restProps : {};\n    const linkProps = href ? restProps : {};\n\n    return (\n      <div\n        {...rootProps}\n        onClick={href || draggable ? null : this.onClick}\n        className={classNames(baseClassNames, {\n          'Cell--expandable': expandable,\n          'Cell--multiline': multiline,\n          [`Cell--${size}`]: size,\n          'Cell--dragging': this.state.dragging,\n          'Cell--draggable': draggable\n        }, className)}\n        ref={this.getRootRef}\n      >\n        <Tappable\n          {...linkProps}\n          onClick={href ? this.onClick : null}\n          component={selectable ? 'label' : href ? 'a' : 'div'}\n          className=\"Cell__in\"\n          href={href}\n          disabled={(!selectable && !onClick && !href || removable || draggable)}\n          style={removable ? { transform: `translateX(-${this.state.removeOffset}px)` } : null}\n        >\n          {selectable && <input {...inputProps} type=\"checkbox\" className=\"Cell__checkbox\" />}\n          <div className=\"Cell__before\">\n            {selectable && IS_PLATFORM_IOS && <div className=\"Cell__checkbox-marker\"><Icon16Done /></div>}\n            {removable && IS_PLATFORM_IOS && <div className=\"Cell__remove-marker\" onClick={this.activateRemove}/>}\n            {IS_PLATFORM_ANDROID && draggable &&\n            <Touch\n              onStart={this.onDragStart}\n              onMoveY={this.onDragMove}\n              onEnd={this.onDragEnd}\n              className=\"Cell__dragger\"\n            ><Icon24Reorder/></Touch>\n            }\n            {before && <div className=\"Cell__before-in\">{before}</div>}\n          </div>\n          <div className=\"Cell__main\">\n            <div className=\"Cell__children\">{children}</div>\n            {description && <div className=\"Cell__description\">{description}</div>}\n            {size === 'l' && bottomContent && <div className=\"Cell__bottom\">{bottomContent}</div>}\n          </div>\n          <div className=\"Cell__indicator\">{indicator}</div>\n          <div className=\"Cell__aside\">\n            {asideContent}\n            {selectable && IS_PLATFORM_ANDROID && <div className=\"Cell__checkbox-marker\"><Icon16Done /></div>}\n            {removable && IS_PLATFORM_ANDROID &&\n            <div className=\"Cell__remove-marker\" onClick={this.onRemoveClick}><Icon24Cancel /></div>\n            }\n            {IS_PLATFORM_IOS && expandable && !draggable && <Icon24Chevron className=\"Cell__chevron\"/>}\n            {IS_PLATFORM_IOS && draggable &&\n            <Touch\n              className=\"Cell__dragger\"\n              onStart={this.onDragStart}\n              onMoveY={this.onDragMove}\n              onEnd={this.onDragEnd}\n            ><Icon24ReorderIos/></Touch>\n            }\n          </div>\n        </Tappable>\n        {removable && IS_PLATFORM_IOS &&\n        <div\n          ref={this.getRemoveRef}\n          className=\"Cell__remove\"\n          onClick={this.onRemoveClick}\n          style={removable ? { transform: `translateX(-${this.state.removeOffset}px)` } : null}\n        >\n          <span className=\"Cell__remove-in\">{removePlaceholder}</span>\n        </div>\n        }\n      </div>\n    );\n  }\n}\n","const querystring = {\n  parse: (string = '') => {\n    if (typeof string !== 'string') return {};\n\n    const matches = /\\?(.+)$/ig.exec(string);\n    const str = matches ? matches[1] : string;\n\n    return str\n      .split('&')\n      .reduce((acc, item) => {\n        const param = item.split('=');\n\n        if (param[1]) {\n          acc[param[0]] = decodeURIComponent(param[1]);\n        }\n\n        return acc;\n      }, {});\n  },\n  create: (data = {}, opts) => {\n    if (typeof data !== 'object' || data === null) return '';\n\n    let options = { encode: true, ...opts };\n\n    return Object.keys(data).reduce((acc, item) => {\n      const type = typeof data[item];\n\n      if (type === 'string' || type === 'number' || type === 'boolean') {\n        acc.push(item + '=' + (options.encode ? encodeURIComponent(data[item]) : data[item]));\n      }\n\n      if (Array.isArray(data[item])) {\n        data[item].forEach(value => {\n          acc.push(item + '[]=' + (options.encode ? encodeURIComponent(value) : value));\n        });\n      }\n\n      return acc;\n    }, []).join('&');\n  }\n};\n\nexport default querystring;\n","import vkConnect from '@vkontakte/vk-connect';\n\nexport const isWebView = vkConnect.isWebView();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('Tabs');\n\nexport default class Tabs extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    /**\n     * Значения white и gray устарели. Они будут удалены в следующей мажорной версии\n     */\n    theme: PropTypes.oneOf(['light', 'header']),\n    /**\n     * Свойство отвечает за растягивание табов\n     */\n    type: PropTypes.oneOf(['default', 'buttons']),\n    style: PropTypes.object,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    theme: 'light',\n    type: 'default'\n  };\n\n  /**\n   * Метод нужен для маппинга устаревших значений theme на новые\n   * @returns {string}\n   */\n  get theme () {\n    switch (this.props.theme) {\n      case 'white':\n        return 'header';\n      case 'gray':\n        return 'light';\n      default:\n        return this.props.theme;\n    }\n  }\n\n  render () {\n    const { className, children, theme, style, type, getRootRef, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} ref={getRootRef} className={classNames(baseClassName, {\n        [`Tabs--${this.theme}`]: true,\n        [`Tabs--${type}`]: true\n      }, className)} style={style}>{children}</div>\n    );\n  }\n}\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassNames = getClassName('Div');\n\nexport default function Div ({ className, children, getRootRef, ...restProps }) {\n  return <div {...restProps} ref={getRootRef} className={classNames(baseClassNames, className)}>{children}</div>;\n}\n\nDiv.propTypes = {\n  style: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassNames = getClassName('Header');\n\nfunction mapOldLevel (level) {\n  switch (level) {\n    case '1':\n      return 'primary';\n    case '2':\n      return 'secondary';\n    default:\n      return level;\n  }\n}\n\nconst Header = ({ className, level, children, indicator, aside, getRootRef, ...restProps }) => {\n  return (\n    <div\n      {...restProps}\n      ref={getRootRef}\n      className={classNames(baseClassNames, className, { [`Header--level-${mapOldLevel(level)}`]: true })}\n    >\n      <div className=\"Header__in\">\n        <div className=\"Header__content\">{children}</div>\n        {indicator && <div className=\"Header__indicator\">{indicator}</div>}\n        {aside && <div className=\"Header__aside\">{aside}</div>}\n      </div>\n    </div>\n  );\n};\n\nHeader.mapOldLevel = mapOldLevel;\n\nHeader.propTypes = {\n  className: PropTypes.string,\n  /**\n   * Значения `1` и `2` устарели. Вместо них используйте `primary` и `secondary`. Маппинг на новые значения находится в\n   * статическом методе `Header.mapOldLevel(level)`. Старые значения будут удалены в 3.0.0\n   */\n  level: PropTypes.oneOf(['1', '2', 'primary', 'secondary']),\n  indicator: PropTypes.node,\n  aside: PropTypes.node,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nHeader.defaultProps = {\n  level: 'primary'\n};\n\nexport default Header;\n","import React from 'react';\nimport Tappable from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('CellButton');\n\nconst CellButton = ({ className, align, level, before, children, ...restProps }) => (\n  <Tappable {...restProps} className={classNames(baseClassName, className, {\n    [`CellButton--lvl-${level}`]: level,\n    [`CellButton--aln-${align}`]: align\n  })} stopPropagation>\n    <div className=\"CellButton__in\">\n      {before && <div className=\"CellButton__before\">{before}</div>}\n      {children && <div className=\"CellButton__content\">{children}</div>}\n    </div>\n  </Tappable>\n);\n\nCellButton.propTypes = {\n  level: PropTypes.oneOf(['primary', 'danger']),\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  before: PropTypes.node,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  component: PropTypes.any\n};\n\nCellButton.defaultProps = {\n  level: 'primary',\n  align: 'left'\n};\n\nexport default CellButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames.js';\nimport Spinner24 from '@vkontakte/icons/dist/24/spinner';\nimport Spinner32 from '@vkontakte/icons/dist/32/spinner';\nimport Spinner44 from '@vkontakte/icons/dist/44/spinner';\nimport Spinner16 from '@vkontakte/icons/dist/16/spinner';\n\nconst baseClassNames = getClassName('Spinner');\n\nconst svgSpinner = size => {\n  switch (size) {\n    case 'large':\n      return <Spinner44 className=\"Spinner__self\" />;\n    case 'medium':\n      return <Spinner32 className=\"Spinner__self\" />;\n    case 'small':\n      return <Spinner16 className=\"Spinner__self\" />;\n    default:\n      return <Spinner24 className=\"Spinner__self\" />;\n  }\n};\n\nconst Spinner = React.memo(({ className, size, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassNames, className)}>\n    {svgSpinner(size)}\n  </div>\n));\n\nSpinner.propTypes = {\n  style: PropTypes.object,\n  size: PropTypes.oneOf(['small', 'regular', 'large', 'medium']),\n  className: PropTypes.string\n};\n\nSpinner.defaultProps = {\n  size: 'regular'\n};\n\nexport default Spinner;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport Tappable from '../Tappable/Tappable';\n\nconst baseClassNames = getClassName('ActionSheetItem');\n\nconst ActionSheetItem = ({ className, children, autoclose, theme, ...restProps }) => (\n  <Tappable\n    {...restProps}\n    className={classNames(baseClassNames, className, { [`ActionSheetItem--${theme}`]: true })}\n    component={theme === 'cancel' ? 'span' : 'div'}\n  >\n    <span className=\"ActionSheetItem__in\">{children}</span>\n  </Tappable>\n);\n\nActionSheetItem.propTypes = {\n  theme: PropTypes.oneOf(['default', 'destructive', 'cancel']),\n  children: PropTypes.node,\n  style: PropTypes.object,\n  onClick: PropTypes.func,\n  className: PropTypes.string,\n  autoclose: PropTypes.bool\n};\n\nActionSheetItem.defaultProps = {\n  theme: 'default'\n};\n\nexport default ActionSheetItem;\n","import React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport PopoutWrapper from '../PopoutWrapper/PopoutWrapper';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\nimport withInsets from '../../hoc/withInsets';\nimport { isNumeric } from '../../lib/utils';\n\nconst baseClassNames = getClassName('ActionSheet');\n\nclass ActionSheet extends React.Component {\n  state = {\n    closing: false\n  };\n\n  static propTypes = {\n    /**\n     * iOS only\n     */\n    title: PropTypes.node,\n    /**\n     * iOS only\n     */\n    text: PropTypes.node,\n    onClose: PropTypes.func.isRequired,\n    style: PropTypes.object,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  onClose = () => {\n    this.setState({ closing: true });\n    this.waitTransitionFinish(this.props.onClose);\n  };\n\n  onItemClick = (action, autoclose) => (event) => {\n    event.persist();\n\n    if (autoclose) {\n      this.setState({ closing: true });\n      this.waitTransitionFinish(() => {\n        autoclose && this.props.onClose();\n        action && action(event);\n      });\n    } else {\n      action && action(event);\n    }\n  };\n\n  getRef = el => this.el = el;\n\n  stopPropagation = e => e.stopPropagation();\n\n  waitTransitionFinish (eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'TransitionEnd' : 'transitionend';\n\n      this.el.removeEventListener(eventName, eventHandler);\n      this.el.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 200 : 300);\n    }\n  }\n\n  render () {\n    const { children, className, title, text, style, insets, ...restProps } = this.props;\n\n    return (\n      <PopoutWrapper\n        closing={this.state.closing}\n        v={IS_PLATFORM_IOS ? 'bottom' : 'center'}\n        h=\"center\"\n        className={className}\n        style={style}\n        onClick={this.onClose}\n      >\n        <div {...restProps} ref={this.getRef} onClick={this.stopPropagation} className={classNames(baseClassNames, {\n          'ActionSheet--closing': this.state.closing\n        })}>\n          {IS_PLATFORM_IOS &&\n          <header className=\"ActionSheet__header\">\n            {title && <div className=\"ActionSheet__title\">{title}</div>}\n            {text && <div className=\"ActionSheet__text\">{text}</div>}\n          </header>\n          }\n          {Children.toArray(children).map((Child, index, arr) => (\n            Child && React.cloneElement(Child, {\n              onClick: this.onItemClick(Child.props.onClick, Child.props.autoclose),\n              style: index === arr.length - 1 && isNumeric(insets.bottom) ? { marginBottom: insets.bottom } : null\n            })\n          ))}\n        </div>\n      </PopoutWrapper>\n    );\n  }\n}\n\nexport default withInsets(ActionSheet);\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable from '../Tappable/Tappable';\nimport PopoutWrapper from '../PopoutWrapper/PopoutWrapper';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport transitionEvents from '../../lib/transitionEvents';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\n\nconst baseClassNames = getClassName('Alert');\n\nexport default class Alert extends Component {\n  state = {};\n  element = React.createRef();\n\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    actionsLayout: PropTypes.oneOf(['vertical', 'horizontal']),\n    actions: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      action: PropTypes.func,\n      /**\n       * 'cancel' - iOS only\n       */\n      style: PropTypes.oneOf(['cancel', 'destructive', 'default'])\n    })),\n    onClose: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    actionsLayout: 'horizontal',\n    actions: []\n  };\n\n  onItemClick = item => () => {\n    const { action, autoclose } = item;\n\n    if (autoclose) {\n      this.setState({ closing: true });\n      this.waitTransitionFinish(() => {\n        autoclose && this.props.onClose();\n        action && action();\n      });\n    } else {\n      action && action();\n    }\n  };\n\n  onClose = () => {\n    this.setState({ closing: true });\n    this.waitTransitionFinish(() => {\n      this.props.onClose();\n    });\n  };\n\n  stopPropagation = e => e.stopPropagation();\n\n  waitTransitionFinish (eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'TransitionEnd' : 'transitionend';\n\n      this.element.current.removeEventListener(eventName, eventHandler);\n      this.element.current.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 200 : 300);\n    }\n  }\n\n  render () {\n    const { actions, actionsLayout, children, className, style, ...restProps } = this.props;\n    const { closing } = this.state;\n\n    return (\n      <PopoutWrapper\n        className={className}\n        closing={closing}\n        style={style}\n        onClick={this.onClose}\n      >\n        <div {...restProps} ref={this.element} onClick={this.stopPropagation} className={classNames(baseClassNames, {\n          'Alert--v': actionsLayout === 'vertical',\n          'Alert--h': actionsLayout === 'horizontal',\n          'Alert--closing': closing\n        })}>\n          <div className=\"Alert__content\">{children}</div>\n          <footer className=\"Alert__footer\">\n            {actions.map((button, i) => (\n              <Tappable\n                component=\"button\"\n                className={classNames('Alert__btn', { [`Alert__btn--${button.style}`]: button.style })}\n                onClick={this.onItemClick(button)}\n                key={`alert-action-${i}`}\n              >\n                <span dangerouslySetInnerHTML={{ __html: button.title }} />\n              </Tappable>\n            ))}\n          </footer>\n        </div>\n      </PopoutWrapper>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nexport const baseClassNames = getClassName('PanelHeader');\n\nexport default class PanelHeader extends React.Component {\n  static propTypes = {\n    left: PropTypes.node,\n    /**\n     * iOS only\n     */\n    addon: PropTypes.node,\n    right: PropTypes.node,\n    children: PropTypes.node,\n    /**\n     * Вместо `light` используйте `alternate`. Значение `light` устарело и будет удалено в следующей\n     * мажорной версии.\n     */\n    theme: PropTypes.oneOf(['light', 'alternate', 'brand']),\n    /**\n     * @ignore\n     */\n    transparent: PropTypes.bool,\n    noShadow: PropTypes.bool,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    theme: 'brand',\n    transparent: false,\n    noShadow: false\n  };\n\n  static contextTypes = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  state = {\n    ready: false\n  };\n\n  get document () { return this.context.document || document; }\n\n  get webviewType () { return this.context.webviewType || 'vkapps'; }\n\n  componentDidMount () {\n    const panelId = this.context.panel;\n\n    this.leftNode = this.document.getElementById('header-left-' + panelId);\n    this.addonNode = this.document.getElementById('header-addon-' + panelId);\n    this.titleNode = this.document.getElementById('header-title-' + panelId);\n    this.rightNode = this.document.getElementById('header-right-' + panelId);\n    this.bgNode = this.document.getElementById('header-bg-' + panelId);\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      const element = this.document.getElementById(`panel-header-${panelId}`);\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n\n    this.setState({ ready: true });\n  }\n\n  render () {\n    let { left, addon, children, right, theme, noShadow, transparent } = this.props;\n    const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n    return this.state.ready ? [\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-bg', {\n        [`PanelHeader-bg--${theme}`]: true,\n        'PanelHeader-bg--tp': transparent,\n        [`PanelHeader-bg--no-shadow`]: noShadow || ['bright_light', 'space_gray'].indexOf(this.context.scheme) >= 0\n      })}/>, this.bgNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-left-in', {\n        [`PanelHeader-left-in--${theme}`]: true,\n        'PanelHeader-left-in--tp': transparent\n      })}>{left}</div>, this.leftNode),\n      IS_PLATFORM_IOS && ReactDOM.createPortal(<div className={classNames('PanelHeader-addon', {\n        [`PanelHeader-addon--${theme}`]: true,\n        'PanelHeader-addon--tp': transparent\n      })}>{addon}</div>, this.addonNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-content', {\n        [`PanelHeader-content--${theme}`]: true,\n        'PanelHeader-content--tp': transparent\n      })}>\n        {isPrimitive ? <span>{children}</span> : children}\n      </div>, this.titleNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-right', {\n        [`PanelHeader-right--${theme}`]: true,\n        'PanelHeader-right--tp': transparent,\n        'PanelHeader-right--vkapps': this.webviewType === 'vkapps'\n      })}>{this.webviewType === 'internal' ? right : null}</div>, this.rightNode)\n    ] : null;\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__36__;","module.exports = {\n  tabbarHeight: 48\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nfunction calcStrokeDashOffset (value, radius) {\n  const progress = value / 100;\n  return 2 * Math.PI * radius * (1 - progress);\n}\n\nconst PullToRefreshSpinner = React.memo(({on, progress, size, strokeWidth, style}) => {\n  const radius = 0.5 * size - 0.5 * strokeWidth;\n  const dasharray = 2 * Math.PI * radius;\n  const circleCenter = 0.5 * size;\n\n  const dashoffset = calcStrokeDashOffset(on ? 80 : progress, radius);\n\n  return (\n    <div\n      className={classNames('PullToRefresh__spinner', {\n        'PullToRefresh__spinner--on': on\n      })}\n      style={style}\n    >\n      <svg\n        className=\"PullToRefresh__spinner-self\"\n        style={{\n          width: size,\n          height: size\n        }}\n        viewBox={`0 0 ${size} ${size}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g\n          style={{\n            width: size,\n            height: size,\n            transformOrigin: `${circleCenter}px ${circleCenter}px`\n          }}\n        >\n          <circle\n            className=\"PullToRefresh__spinner-path\"\n            fill=\"none\"\n            strokeDasharray={dasharray}\n            strokeDashoffset={dashoffset}\n            strokeWidth={strokeWidth}\n            strokeLinecap=\"round\"\n            cx={circleCenter}\n            cy={circleCenter}\n            r={radius}\n          />\n        </g>\n      </svg>\n    </div>\n  );\n});\n\nPullToRefreshSpinner.propTypes = {\n  size: PropTypes.number,\n  strokeWidth: PropTypes.number,\n  on: PropTypes.bool,\n  progress: PropTypes.number,\n  style: PropTypes.object\n};\n\nPullToRefreshSpinner.defaultProps = {\n  size: 24,\n  strokeWidth: 2.5,\n  on: true,\n  progress: null\n};\n\nexport default PullToRefreshSpinner;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch, { TouchRootContext } from '../Touch/Touch';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS, IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport getClassName from '../../helpers/getClassName';\nimport PullToRefreshSpinner from './PullToRefreshSpinner';\n\nconst baseClassName = getClassName('PullToRefresh');\n\nfunction cancelEvent (event) {\n  if (!event) return false;\n  while (event.originalEvent) event = event.originalEvent;\n  if (event.preventDefault) event.preventDefault();\n  if (event.stopPropagation) event.stopPropagation();\n  return false;\n}\n\nexport default class PullToRefresh extends PureComponent {\n  constructor (props) {\n    super(props);\n\n    this.params = {\n      start: IS_PLATFORM_ANDROID ? -45 : -10,\n      max: IS_PLATFORM_ANDROID ? 80 : 50,\n      maxY: IS_PLATFORM_ANDROID ? 80 : 400,\n      refreshing: IS_PLATFORM_ANDROID ? 50 : 36,\n\n      positionMultiplier: IS_PLATFORM_ANDROID ? 1 : 0.21\n    };\n\n    this.state = {\n      watching: false,\n      refreshing: false,\n      canRefresh: false,\n\n      touchDown: false,\n      refreshingFinished: false,\n\n      touchY: 0,\n      spinnerY: this.params.start,\n      spinnerProgress: 0,\n      contentShift: 0\n    };\n\n    this.contentRef = React.createRef();\n  }\n\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n\n    /**\n     * Будет вызвана для обновления контента\n     */\n    onRefresh: PropTypes.func.isRequired,\n\n    /**\n     * Определяет, выполняется ли обновление. Для скрытия спиннера после получения контента необходимо передать `false`\n     */\n    isFetching: PropTypes.bool\n  };\n\n  static contextTypes = {\n    window: PropTypes.any,\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  componentDidMount () {\n    this.document.addEventListener('touchmove', this.onWindowTouchMove, { cancelable: true, passive: false });\n  }\n\n  componentWillUnmount () {\n    this.document.removeEventListener('touchmove', this.onWindowTouchMove);\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.isFetching && !this.props.isFetching) {\n      this.onRefreshingFinish();\n    }\n  }\n\n  get scrollTop () {\n    return this.document.scrollingElement.scrollTop;\n  }\n\n  onTouchStart = (e) => {\n    if (this.state.refreshing) cancelEvent(e);\n    this.setState({ touchDown: true });\n  };\n\n  onWindowTouchMove = (e) => {\n    if (this.state.refreshing) cancelEvent(e);\n  };\n\n  onTouchMove = (e) => {\n    const { isY, shiftY } = e;\n    const { start, max } = this.params;\n    const pageYOffset = this.window.pageYOffset;\n\n    const { refreshing, watching, touchDown } = this.state;\n\n    if (watching && touchDown) {\n      cancelEvent(e);\n\n      const { positionMultiplier } = this.params;\n\n      const shift = Math.max(0, shiftY - this.state.touchY);\n\n      const currentY = Math.max(start, Math.min(this.params.maxY, start + (shift * positionMultiplier)));\n      const progress = currentY > -10 ? Math.abs((currentY + 10) / max) * 80 : 0;\n\n      this.setState({\n        spinnerY: currentY,\n        spinnerProgress: Math.min(80, Math.max(0, progress)),\n        canRefresh: progress > 80,\n        contentShift: (currentY + 10) * 2.3\n      });\n\n      if (progress > 85 && !refreshing && IS_PLATFORM_IOS) {\n        this.runRefreshing();\n      }\n    } else if (isY && pageYOffset === 0 && shiftY > 0 && !refreshing && touchDown) {\n      cancelEvent(e);\n\n      this.setState({\n        watching: true,\n        touchY: shiftY,\n        spinnerY: start,\n        spinnerProgress: 0\n      });\n    }\n  };\n\n  onTouchEnd = () => {\n    const { refreshing, canRefresh, refreshingFinished } = this.state;\n\n    this.setState({\n      watching: false,\n      touchDown: false\n    }, () => {\n      if (canRefresh && !refreshing) {\n        this.runRefreshing();\n      } else if (refreshing && refreshingFinished) {\n        this.resetRefreshingState();\n      } else {\n        this.setState({\n          spinnerY: refreshing ? this.params.refreshing : this.params.start,\n          spinnerProgress: 0,\n          contentShift: 0\n        });\n      }\n    });\n  };\n\n  runRefreshing () {\n    if (!this.state.refreshing && this.props.onRefresh) {\n      this.setState({\n        refreshing: true,\n        spinnerY: IS_PLATFORM_ANDROID ? this.params.refreshing : this.state.spinnerY\n      });\n\n      this.props.onRefresh();\n    }\n  }\n\n  onRefreshingFinish = () => {\n    this.setState({\n      refreshingFinished: true\n    }, () => {\n      !this.state.touchDown && this.resetRefreshingState();\n    });\n  }\n\n  resetRefreshingState () {\n    this.setState({\n      watching: false,\n      canRefresh: false,\n      refreshing: false,\n      refreshingFinished: false,\n      spinnerY: this.params.start,\n      spinnerProgress: 0,\n      contentShift: 0\n    });\n  }\n\n  render () {\n    const { children, className, onRefresh, isFetching, ...restProps } = this.props;\n    const { watching, refreshing, spinnerY, spinnerProgress, canRefresh, touchDown, contentShift } = this.state;\n\n    const spinnerTransform = `translate3d(0, ${spinnerY}px, 0)`;\n    const contentTransform = refreshing && !touchDown && IS_PLATFORM_IOS ? `translate3d(0, 100px, 0)` : IS_PLATFORM_IOS && contentShift ? `translate3d(0, ${contentShift}px, 0)` : '';\n\n    return (\n      <TouchRootContext.Provider value={true}>\n        <Touch\n          {...restProps}\n          onStart={this.onTouchStart}\n          onMove={this.onTouchMove}\n          onEnd={this.onTouchEnd}\n          className={classNames(baseClassName, className, {\n            'PullToRefresh--watching': watching,\n            'PullToRefresh--refreshing': refreshing\n          })}\n        >\n          <FixedLayout className=\"PullToRefresh__controls\">\n            <PullToRefreshSpinner\n              style={{\n                transform: spinnerTransform,\n                WebkitTransform: spinnerTransform,\n                opacity: watching || refreshing || canRefresh ? 1 : 0\n              }}\n              on={refreshing}\n              progress={refreshing ? null : spinnerProgress}\n            />\n          </FixedLayout>\n\n          <div\n            className=\"PullToRefresh__content\"\n            ref={this.contentRef}\n            style={{\n              transform: contentTransform,\n              WebkitTransform: contentTransform\n            }}\n          >\n            {children}\n          </div>\n        </Touch>\n      </TouchRootContext.Provider>\n    );\n  }\n}\n","\n/**\n * Задает стиль трансформации элементу с учетом префиксов\n *\n * @param {Element} element\n * @param {string} transform\n */\nexport function setTransformStyle (element, transform) {\n  element.style.transform = transform;\n  element.style.WebkitTransform = transform;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch, { TouchRootContext } from '../Touch/Touch';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { setTransformStyle } from '../../lib/styles';\nimport { rubber } from '../../lib/touch';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassName = getClassName('ModalRoot');\n\nexport const TYPE_CARD = 'modal-card';\nexport const TYPE_PAGE = 'modal-page';\n\nfunction numberInRange (number, range) {\n  return number >= range[0] && number <= range[1];\n}\n\nfunction rangeTranslate (number) {\n  return Math.max(0, Math.min(98, number));\n}\n\nclass ModalRoot extends Component {\n  constructor (props) {\n    super(props);\n\n    const activeModal = props.activeModal;\n\n    this.state = {\n      activeModal: null,\n      prevModal: null,\n      nextModal: activeModal,\n      visibleModals: activeModal ? [activeModal] : [],\n      animated: !!activeModal,\n      history: activeModal ? [activeModal] : [],\n\n      touchDown: false,\n      dragging: false\n    };\n\n    this.activeTransitions = 0;\n    this.maskElementRef = React.createRef();\n\n    this.initModalsState();\n  }\n\n  static propTypes = {\n    activeModal: PropTypes.string,\n    children: PropTypes.node\n  };\n\n  static contextTypes = {\n    window: PropTypes.any,\n    document: PropTypes.any,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  get webviewType () {\n    return this.context.webviewType || 'vkapps';\n  }\n\n  get modals () {\n    return [].concat(this.props.children);\n  }\n\n  initModalsState () {\n    this.modalsState = this.modals.reduce((acc, Modal) => {\n      const modalProps = Modal.props;\n      const state = {};\n\n      // ModalPage props\n      if (typeof modalProps.settlingHeight === 'number') {\n        state.settlingHeight = modalProps.settlingHeight;\n      }\n\n      state.dynamicContentHeight = !!modalProps.dynamicContentHeight;\n\n      state.onClose = Modal.props.onClose;\n      state.id = Modal.props.id;\n      acc[state.id] = state;\n      return acc;\n    }, {});\n  }\n\n  componentDidMount () {\n    this.initActiveModal();\n  }\n\n  componentWillUnmount () {\n    this.toggleDocumentScrolling(true);\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    const { activeModal, switching } = this.state;\n\n    if (activeModal && this.modalsState[activeModal] && !switching && this.props.children !== prevProps.children) {\n      const modalState = this.modalsState[activeModal];\n      if (modalState && modalState.type === TYPE_PAGE && modalState.dynamicContentHeight) {\n        this.checkPageContentHeight();\n      }\n    }\n\n    if (this.props.activeModal !== prevProps.activeModal && !this.state.switching) {\n      const nextModal = this.props.activeModal;\n      const prevModal = prevProps.activeModal;\n\n      if (nextModal !== null && !this.modalsState[nextModal]) {\n        return console.warn(`[ModalRoot.componentDidUpdate] nextModal ${nextModal} not found`);\n      }\n\n      let history = [...this.state.history];\n      let isBack = false;\n\n      if (nextModal === null) {\n        history = [];\n      } else if (history.indexOf(nextModal) !== -1) {\n        history = history.splice(0, history.indexOf(nextModal) + 1);\n        isBack = true;\n      } else {\n        history.push(nextModal);\n      }\n\n      return this.setState({\n        activeModal: null,\n        nextModal,\n        prevModal,\n        visibleModals: [nextModal, prevModal],\n        history,\n        isBack,\n        animated: true,\n        inited: false,\n        switching: false\n      }, () => {\n        if (nextModal === null) {\n          this.closeActiveModal();\n        } else {\n          this.initActiveModal();\n        }\n      });\n    }\n\n    if (this.state.switching && !prevState.switching) {\n      requestAnimationFrame(() => this.switchPrevNext());\n    }\n\n    if (!this.state.activeModal && !this.state.prevModal && !this.state.nextModal) {\n      this.toggleDocumentScrolling(true);\n    } else {\n      this.toggleDocumentScrolling(false);\n    }\n  }\n\n  blurActiveElement () {\n    if (typeof this.window !== 'undefined' && this.document.activeElement) {\n      this.document.activeElement.blur();\n    }\n  }\n\n  /**\n   * Отключает скролл документа\n   * @param {boolean} enabled Включен ли скроолл\n   */\n  toggleDocumentScrolling (enabled) {\n    if (this.documentScrolling === enabled) return;\n    this.documentScrolling = enabled;\n\n    if (enabled) {\n      this.window.removeEventListener('touchmove', this.preventTouch);\n    } else {\n      this.window.addEventListener('touchmove', this.preventTouch, { passive: false });\n    }\n  }\n\n  preventTouch = (event) => {\n    if (!event) return false;\n    while (event.originalEvent) event = event.originalEvent;\n    event.preventDefault();\n  };\n\n  pickModal (modalId) {\n    return this.document.getElementById('modal-' + modalId);\n  }\n\n  /**\n   * Инициализирует модалку перед анимацией открытия\n   */\n  initActiveModal () {\n    const activeModal = this.state.activeModal || this.state.nextModal;\n    if (!activeModal) return;\n\n    const modalElement = this.pickModal(activeModal);\n    const modalState = this.modalsState[activeModal];\n\n    if (modalElement.querySelector('.ModalPage')) {\n      modalState.type = TYPE_PAGE;\n    } else if (modalElement.querySelector('.ModalCard')) {\n      modalState.type = TYPE_CARD;\n    }\n\n    switch (modalState.type) {\n      case TYPE_PAGE:\n        modalState.settlingHeight = modalState.settlingHeight || 75;\n        this.initPageModal(modalState, modalElement);\n        break;\n\n      case TYPE_CARD:\n        this.initCardModal(modalState, modalElement);\n        break;\n\n      default:\n        console.warn(`[ModalRoot.initActiveModal] modalState.type is unknown`);\n    }\n\n    this.setState({ inited: true, switching: true });\n  }\n\n  initPageModal (modalState, modalElement) {\n    const contentElement = modalElement.querySelector('.ModalPage__content');\n    const contentHeight = contentElement.firstChild.offsetHeight;\n\n    modalState.expandable = contentHeight > contentElement.clientHeight;\n\n    modalState.modalElement = modalElement;\n    modalState.innerElement = modalElement.querySelector('.ModalPage__in-wrap');\n    modalState.headerElement = modalElement.querySelector('.ModalPage__header');\n    modalState.contentElement = modalElement.querySelector('.ModalPage__content');\n    modalState.footerElement = modalElement.querySelector('.ModalPage__footer');\n\n    let collapsed;\n    let translateYFrom;\n    let translateY;\n    let expandedRange;\n    let collapsedRange;\n    let hiddenRange;\n\n    if (modalState.expandable) {\n      translateYFrom = 100 - modalState.settlingHeight;\n\n      const shiftHalf = translateYFrom / 2;\n      const visiblePart = 100 - translateYFrom;\n\n      expandedRange = [0, shiftHalf];\n      collapsedRange = [shiftHalf, translateYFrom + visiblePart / 4];\n      hiddenRange = [translateYFrom + visiblePart / 4, 100];\n\n      collapsed = true;\n      translateY = translateYFrom;\n    } else {\n      const headerHeight = modalState.headerElement.offsetHeight;\n      const height = contentHeight + headerHeight;\n\n      translateYFrom = 100 - (height / modalState.innerElement.parentNode.offsetHeight * 100);\n      translateY = translateYFrom;\n\n      expandedRange = [translateY, translateY + 25];\n      collapsedRange = [translateY + 25, translateY + 25];\n      hiddenRange = [translateY + 25, translateY + 100];\n\n      collapsed = false;\n    }\n\n    modalState.expandedRange = expandedRange;\n    modalState.collapsedRange = collapsedRange;\n    modalState.hiddenRange = hiddenRange;\n    modalState.translateY = translateY;\n    modalState.translateYFrom = translateYFrom;\n    modalState.collapsed = collapsed;\n  }\n\n  initCardModal (modalState, modalElement) {\n    modalState.modalElement = modalElement;\n    modalState.innerElement = modalElement.querySelector('.ModalCard__in');\n\n    modalState.translateY = 0;\n  }\n\n  checkPageContentHeight () {\n    const activeModal = this.state.activeModal;\n\n    const modalElement = this.pickModal(activeModal);\n    const modalState = this.modalsState[activeModal];\n\n    const prevModalState = {...modalState};\n    this.initPageModal(modalState, modalElement);\n    const currentModalState = {...modalState};\n\n    const diff = Object.keys(currentModalState).reduce((acc, key) => {\n      if (prevModalState[key] !== currentModalState[key]) {\n        acc[key] = currentModalState[key];\n      }\n\n      return acc;\n    }, {});\n\n    if (Object.keys(diff).length) {\n      this.animateTranslate(modalState);\n      this.animatePageHeader(modalState);\n    }\n  }\n\n  closeActiveModal () {\n    const { prevModal } = this.state;\n    if (!prevModal) return console.warn(`[ModalRoot.closeActiveModal] prevModal is ${prevModal}`);\n\n    const prevModalState = this.modalsState[prevModal];\n\n    this.waitTransitionFinish(prevModalState, this.prevNextSwitchEndHandler);\n    this.animateTranslate(prevModalState, 100);\n    this.setMaskOpacity(prevModalState, 0);\n  }\n\n  onTouchMove = (e) => {\n    if (this.state.switching) return;\n    const activeModal = this.state.activeModal || this.state.nextModal;\n    if (!activeModal) return;\n\n    const modalState = this.modalsState[activeModal];\n\n    if (modalState.type === TYPE_PAGE) {\n      return this.onPageTouchMove(e, modalState);\n    }\n\n    if (modalState.type === TYPE_CARD) {\n      return this.onCardTouchMove(e, modalState);\n    }\n  };\n\n  onPageTouchMove (event, modalState) {\n    const { shiftY, startT, originalEvent } = event;\n\n    if (!event.isY) {\n      if (originalEvent.target.closest('.ModalPage')) {\n        originalEvent.preventDefault();\n      }\n      return;\n    }\n\n    if (!originalEvent.target.closest('.ModalPage__in')) {\n      return originalEvent.preventDefault();\n    }\n\n    originalEvent.stopPropagation();\n\n    const { expandable, contentScrolled, collapsed, expanded } = modalState;\n\n    if (!this.state.touchDown) {\n      modalState.touchStartTime = startT;\n      modalState.touchStartContentScrollTop = modalState.contentElement.scrollTop;\n      this.setState({ touchDown: true });\n    }\n\n    if (contentScrolled) return;\n\n    if (modalState.touchMovePositive === null) {\n      modalState.touchMovePositive = shiftY > 0;\n    }\n\n    if (\n      !modalState.expandable ||\n      collapsed ||\n      (expanded && modalState.touchMovePositive && (modalState.touchStartContentScrollTop === 0)) ||\n      originalEvent.target.closest('.ModalPage__header')\n    ) {\n      originalEvent.preventDefault();\n      if (!expandable && shiftY < 0) return;\n\n      !this.state.dragging && this.setState({ dragging: true });\n\n      const shiftYPercent = shiftY / this.window.innerHeight * 100;\n      const shiftYCurrent = rubber(shiftYPercent, 72, 0.8, IS_PLATFORM_ANDROID);\n\n      modalState.touchShiftYPercent = shiftYPercent;\n      modalState.translateYCurrent = rangeTranslate(modalState.translateY + shiftYCurrent);\n\n      this.animateTranslate(modalState, modalState.translateYCurrent);\n      this.setMaskOpacity(modalState);\n      return;\n    }\n  }\n\n  onCardTouchMove (event, modalState) {\n    const { originalEvent, shiftY, startT } = event;\n    if (originalEvent.target.closest('.ModalCard__container')) {\n      if (!this.state.touchDown) {\n        modalState.touchStartTime = startT;\n        this.setState({ touchDown: true, dragging: true });\n      }\n\n      const shiftYPercent = shiftY / modalState.innerElement.offsetHeight * 100;\n      const shiftYCurrent = rubber(shiftYPercent, 72, 1.2, IS_PLATFORM_ANDROID);\n\n      modalState.touchShiftYPercent = shiftYPercent;\n      modalState.translateYCurrent = Math.max(0, modalState.translateY + shiftYCurrent);\n\n      this.animateTranslate(modalState, modalState.translateYCurrent);\n      this.setMaskOpacity(modalState);\n    }\n  }\n\n  onTouchEnd = (e) => {\n    const activeModal = this.state.activeModal || this.state.nextModal;\n    if (!activeModal) return;\n    const modalState = this.modalsState[activeModal];\n\n    if (modalState.type === TYPE_PAGE) {\n      return this.onPageTouchEnd(e, modalState);\n    }\n\n    if (modalState.type === TYPE_CARD) {\n      return this.onCardTouchEnd(e, modalState);\n    }\n  };\n\n  onPageTouchEnd (event, modalState) {\n    const { startY, shiftY } = event;\n\n    modalState.contentScrolled = false;\n    modalState.touchMovePositive = null;\n\n    let next;\n\n    if (this.state.dragging) {\n      const shiftYEndPercent = (startY + shiftY) / this.window.innerHeight * 100;\n\n      let translateY = modalState.translateYCurrent;\n      const expectTranslateY = (translateY / (new Date() - modalState.touchStartTime) * 240 * 0.6) * (modalState.touchShiftYPercent < 0 ? -1 : 1);\n      translateY = rangeTranslate(translateY + expectTranslateY);\n\n      if (numberInRange(translateY, modalState.expandedRange)) {\n        translateY = modalState.expandedRange[0];\n      } else if (numberInRange(translateY, modalState.collapsedRange)) {\n        translateY = modalState.translateYFrom;\n      } else if (numberInRange(translateY, modalState.hiddenRange)) {\n        translateY = 100;\n      } else {\n        translateY = modalState.translateYFrom;\n      }\n\n      if (translateY !== 100 && shiftYEndPercent >= 75) {\n        translateY = 100;\n      }\n\n      modalState.translateY = translateY;\n      modalState.translateYCurrent = translateY;\n      modalState.collapsed = translateY > 0 && translateY < shiftYEndPercent;\n      modalState.expanded = translateY === 0;\n      modalState.hidden = translateY === 100;\n\n      if (modalState.hidden) {\n        modalState.onClose();\n      }\n\n      next = () => {\n        !modalState.hidden && this.animateTranslate(modalState);\n        this.setMaskOpacity(modalState);\n      };\n    }\n\n    this.setState({\n      touchDown: false,\n      dragging: false\n    }, next);\n  }\n\n  onCardTouchEnd (event, modalState) {\n    let next;\n\n    if (this.state.dragging) {\n      let translateY = modalState.translateYCurrent;\n\n      const expectTranslateY = (translateY / (new Date() - modalState.touchStartTime) * 240 * 0.6) * (modalState.touchShiftYPercent < 0 ? -1 : 1);\n      translateY = Math.max(0, translateY + expectTranslateY);\n\n      if (translateY >= 30) {\n        translateY = 100;\n      } else {\n        translateY = 0;\n      }\n\n      modalState.translateY = translateY;\n      modalState.hidden = translateY === 100;\n\n      if (modalState.hidden) {\n        modalState.onClose();\n      }\n\n      next = () => {\n        !modalState.hidden && this.animateTranslate(modalState);\n        this.setMaskOpacity(modalState);\n      };\n    }\n\n    this.setState({\n      touchDown: false,\n      dragging: false\n    }, next);\n  }\n\n  onScroll = (e) => {\n    const activeModal = this.state.activeModal;\n\n    if (activeModal && e.target.closest('.ModalPage__content')) {\n      const modalState = this.modalsState[activeModal];\n      modalState.contentScrolled = true;\n\n      clearTimeout(modalState.contentScrollStopTimeout);\n\n      modalState.contentScrollStopTimeout = setTimeout(() => {\n        if (modalState.contentScrolled) {\n          modalState.contentScrolled = false;\n        }\n      }, 250);\n    }\n  };\n\n  waitTransitionFinish (modalState, eventHandler) {\n    const eventName = transitionEvents.transitionEndEventName;\n\n    const onceHandler = () => {\n      modalState.innerElement.removeEventListener(eventName, onceHandler);\n      eventHandler();\n    };\n\n    modalState.innerElement.addEventListener(eventName, onceHandler);\n  }\n\n  switchPrevNext () {\n    const { prevModal, nextModal } = this.state;\n\n    const prevModalState = this.modalsState[prevModal];\n    const nextModalState = this.modalsState[nextModal];\n\n    if (!prevModalState && !nextModalState) {\n      return console.warn(`[ModalRoot.switchPrevNext] prevModal is ${prevModal}, nextModal is ${nextModal}`);\n    }\n\n    const prevIsPage = !!prevModalState && (prevModalState.type === TYPE_PAGE);\n    const prevIsCard = !!prevModalState && (prevModalState.type === TYPE_CARD);\n\n    const nextIsPage = !!nextModalState && (nextModalState.type === TYPE_PAGE);\n    const nextIsCard = !!nextModalState && (nextModalState.type === TYPE_CARD);\n\n    // Ждём полного скрытия предыдущей модалки\n    if (prevModalState && (nextIsCard || (prevIsCard && nextIsPage))) {\n      this.waitTransitionFinish(prevModalState, () => {\n        this.activeTransitions += 1;\n        this.waitTransitionFinish(nextModalState, this.prevNextSwitchEndHandler);\n        this.animateTranslate(nextModalState);\n      });\n\n      return this.animateTranslate(prevModalState, 100);\n    }\n\n    if (prevModalState && nextIsPage) {\n      this.activeTransitions += 1;\n      this.waitTransitionFinish(prevModalState, this.prevNextSwitchEndHandler);\n\n      if (prevIsPage && prevModalState.translateY <= nextModalState.translateYFrom && !this.state.isBack) {\n        this.animateTranslate(prevModalState, nextModalState.translateYFrom + 10);\n      } else {\n        this.animateTranslate(prevModalState, 100);\n      }\n    }\n\n    this.activeTransitions += 1;\n    this.waitTransitionFinish(nextModalState, this.prevNextSwitchEndHandler);\n    this.animateTranslate(nextModalState);\n  }\n\n  prevNextSwitchEndHandler = () => {\n    this.activeTransitions = Math.max(0, this.activeTransitions - 1);\n    if (this.activeTransitions > 0) return;\n\n    const activeModal = this.state.nextModal;\n\n    const newState = {\n      prevModal: null,\n      nextModal: null,\n      visibleModals: [activeModal],\n      activeModal: activeModal,\n      animated: false,\n      switching: false\n    };\n\n    if (!activeModal) {\n      newState.history = [];\n    }\n\n    this.setState(newState);\n  };\n\n  /**\n   * Анимирует сдивг модалки\n   *\n   * @param {object} modalState\n   * @param {number} currentPercent\n   */\n  animateTranslate (modalState, currentPercent = null) {\n    if (currentPercent === null) {\n      currentPercent = modalState.translateY;\n    }\n\n    const frameId = `animateTranslateFrame${modalState.id}`;\n\n    cancelAnimationFrame(this[frameId]);\n    this[frameId] = requestAnimationFrame(() => {\n      setTransformStyle(modalState.innerElement, `translateY(${currentPercent}%)`);\n\n      if (modalState.type === TYPE_PAGE && modalState.footerElement) {\n        const footerHeight = modalState.footerElement.offsetHeight;\n        const factor = modalState.innerElement.offsetHeight * (currentPercent / 100);\n\n        setTransformStyle(modalState.footerElement, `translateY(calc(${footerHeight}px * -${factor / footerHeight}))`);\n      }\n    });\n\n    if (modalState.type === TYPE_PAGE && modalState.expandable) {\n      this.animatePageHeader(modalState, currentPercent);\n    }\n  }\n\n  /**\n   * Анимирует тень шапки\n   *\n   * @param {object} modalState\n   * @param {number} currentPercent\n   */\n  animatePageHeader (modalState, currentPercent) {\n    const headerOpenPercent = currentPercent < 15 ? Math.max(0, 15 - currentPercent) / 15 : 0;\n\n    requestAnimationFrame(() => {\n      const headerShadow = modalState.headerElement.querySelector('.ModalPageHeader__shadow');\n      if (headerShadow) {\n        headerShadow.style.opacity = headerOpenPercent;\n      }\n    });\n  }\n\n  /**\n   * Устанавливает прозрачность для полупрозрачной подложки\n   *\n   * @param {object} modalState\n   * @param {number|null} forceOpacity Форсирует установку прозрачности в обход истории\n   */\n  setMaskOpacity (modalState, forceOpacity = null) {\n    if (forceOpacity === null && this.state.history[0] !== modalState.id) return;\n\n    cancelAnimationFrame(this.maskAnimationFrame);\n    this.maskAnimationFrame = requestAnimationFrame(() => {\n      if (this.maskElementRef.current) {\n        const { translateY, translateYCurrent } = modalState;\n\n        const opacity = forceOpacity === null ? 1 - ((translateYCurrent - translateY) / (100 - translateY)) || 0 : forceOpacity;\n        this.maskElementRef.current.style.opacity = Math.max(0, Math.min(100, opacity));\n      }\n    });\n  }\n\n  /**\n   * Закрывает текущую модалку\n   */\n  triggerActiveModalClose () {\n    const activeModalState = this.modalsState[this.state.activeModal];\n    if (activeModalState) {\n      activeModalState.onClose();\n    }\n  }\n\n  /**\n   * По клику на полупрозрачный черный фон нужно закрыть текущую модалку\n   */\n  onMaskClick = () => {\n    if (!this.state.switching) {\n      this.triggerActiveModalClose();\n    }\n  };\n\n  render () {\n    const { prevModal, activeModal, nextModal, visibleModals, animated, touchDown, dragging, switching } = this.state;\n\n    if (!activeModal && !prevModal && !nextModal && !animated) return null;\n\n    return (\n      <TouchRootContext.Provider value={true}>\n        <Touch\n          className={classNames(baseClassName, {\n            'ModalRoot--vkapps': this.webviewType === 'vkapps',\n            'ModalRoot--touched': touchDown,\n            'ModalRoot--switching': switching\n          })}\n          onMove={this.onTouchMove}\n          onEnd={this.onTouchEnd}\n          onScroll={this.onScroll}\n        >\n          <div\n            className=\"ModalRoot__mask\"\n            onClick={this.onMaskClick}\n            ref={this.maskElementRef}\n          />\n          <div className=\"ModalRoot__viewport\">\n            {this.modals.map((Modal) => {\n              const modalId = Modal.props.id;\n              if (visibleModals.indexOf(Modal.props.id) === -1) return null;\n              const modalState = this.modalsState[modalId];\n\n              const isPage = modalState.type === TYPE_PAGE;\n              const key = 'modal-' + modalId;\n\n              return (\n                <div\n                  key={key}\n                  id={key}\n                  className={classNames('ModalRoot__modal', {\n                    'ModalRoot__modal--active': modalId === activeModal,\n                    'ModalRoot__modal--prev': modalId === prevModal,\n                    'ModalRoot__modal--next': modalId === nextModal,\n\n                    'ModalRoot__modal--dragging': dragging,\n\n                    'ModalRoot__modal--expandable': isPage && modalState.expandable,\n                    'ModalRoot__modal--expanded': isPage && modalState.expanded,\n                    'ModalRoot__modal--collapsed': isPage && modalState.collapsed\n                  })}\n                >{Modal}</div>\n              );\n            })}\n          </div>\n        </Touch>\n      </TouchRootContext.Provider>\n    );\n  }\n}\n\nexport default ModalRoot;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport Icon16Search from '@vkontakte/icons/dist/16/search';\n\nconst baseClassName = getClassName('Search');\n\nlet searchId = 0;\n\nexport default class SearchIOS extends React.Component {\n  constructor (props) {\n    super(props);\n\n    let state = {\n      showAfter: false,\n      focused: false,\n      placeholderOffset: null,\n      afterWidth: null\n    };\n\n    if (props.hasOwnProperty('value')) {\n      this.isControlledOutside = true;\n    } else {\n      state.value = props.defaultValue || '';\n    }\n    searchId++;\n    this.state = state;\n  }\n\n  static propTypes = {\n    className: PropTypes.string,\n    after: PropTypes.node,\n    defaultValue: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    placeholder: PropTypes.node,\n    theme: PropTypes.oneOf(['header', 'default']),\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ])\n  };\n\n  static defaultProps = {\n    after: 'Отменить',\n    theme: 'default',\n    placeholder: 'Поиск'\n  };\n\n  get value () {\n    return this.isControlledOutside ? this.props.value : this.state.value;\n  }\n\n  onFocus = (e) => {\n    this.setState({ focused: true });\n    this.props.onFocus && this.props.onFocus(e);\n  };\n\n  onBlur = (e) => {\n    this.setState({ focused: false });\n    this.props.onBlur && this.props.onBlur(e);\n  };\n\n  onChange = (e) => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n    if (this.props.onChange) {\n      this.props.onChange(e.target.value, e);\n    }\n  };\n\n  onCancel = () => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: '' });\n    }\n    if (this.props.onChange) {\n      this.props.onChange('');\n    }\n  };\n\n  inputRef = (element) => {\n    const getRef = this.props.getRef;\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const {\n      className,\n      theme,\n      onFocus,\n      onBlur,\n      onChange,\n      defaultValue,\n      value,\n      placeholder,\n      after,\n      getRef,\n      ...inputProps\n    } = this.props;\n\n    return (\n      <div className={classNames(baseClassName, {\n        [`Search--${theme}`]: true,\n        'Search--focused': this.state.focused,\n        'Search--has-value': this.value,\n        'Search--has-after': after\n      }, className)}>\n        <div className=\"Search__in\">\n          <div className=\"Search__width\" />\n          <div className=\"Search__control\">\n            <input\n              {...inputProps}\n              id={`search-${searchId}`}\n              ref={this.inputRef}\n              type=\"text\"\n              className=\"Search__input\"\n              onFocus={this.onFocus}\n              onBlur={this.onBlur}\n              onChange={this.onChange}\n              value={this.value}\n            />\n            {after && <div className=\"Search__after-width\">{after}</div>}\n            <label\n              className=\"Search__placeholder\"\n              htmlFor={`search-${searchId}`}\n            >\n              <div className=\"Search__placeholder-in\">\n                <Icon16Search/>\n                <div className=\"Search__placeholder-text\" dangerouslySetInnerHTML={{__html: placeholder}} />\n              </div>\n            </label>\n          </div>\n          {after &&\n          <div className=\"Search__after\" onClick={this.onCancel}>\n            <div className=\"Search__after-in\">{after}</div>\n          </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport HeaderButton from '../HeaderButton/HeaderButton';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Search from '@vkontakte/icons/dist/24/search';\n\nconst baseClassName = getClassName('Search');\n\nexport default class SearchAndroid extends React.Component {\n  constructor (props) {\n    super(props);\n\n    let state = {};\n\n    if (props.hasOwnProperty('value')) {\n      this.isControlledOutside = true;\n    } else {\n      state.value = props.defaultValue || '';\n    }\n\n    this.state = state;\n  }\n\n  static propTypes = {\n    className: PropTypes.string,\n    defaultValue: PropTypes.string,\n    value: PropTypes.string,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onClose: PropTypes.func,\n    placeholder: PropTypes.node,\n    theme: PropTypes.oneOf(['header', 'default']),\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    autoFocus: PropTypes.bool\n  };\n\n  static defaultProps = {\n    placeholder: 'Поиск',\n    theme: 'default',\n    autoFocus: true\n  };\n\n  static contextTypes = {\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  onCancel = () => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: '' });\n    }\n    if (this.props.onChange) {\n      this.props.onChange('');\n    }\n    this.inputEl.focus();\n  };\n\n  onChange = (e) => {\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n    if (this.props.onChange) {\n      this.props.onChange(e.target.value, e);\n    }\n  };\n\n  componentDidMount () {\n    this.props.theme === 'header' && this.props.autoFocus && this.inputEl.focus();\n  }\n\n  get value () {\n    return this.isControlledOutside ? this.props.value : this.state.value;\n  }\n\n  inputRef = (element) => {\n    this.inputEl = element;\n\n    const getRef = this.props.getRef;\n\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const { getRef, value, defaultValue, onChange, onClose, theme, autoFocus, ...inputProps } = this.props;\n    const hasValue = !!this.value;\n\n    const className = classNames(baseClassName, `Search--${theme}`, {\n      'Search--has-value': hasValue,\n      'Search--vkapps': this.context.webviewType === 'vkapps'\n    }, this.props.className);\n\n    return (\n      <div className={className}>\n        <div className=\"Search__container\">\n          <div className=\"Search__before\">\n            {theme === 'default' && <Icon24Search/>}\n            {theme === 'header' && <HeaderButton onClick={onClose}><Icon24Back/></HeaderButton>}\n          </div>\n          <div className=\"Search__control\">\n            <input\n              {...inputProps}\n              className=\"Search__input\"\n              ref={this.inputRef}\n              value={this.value}\n              onChange={this.onChange}\n            />\n          </div>\n          {hasValue &&\n          <div className=\"Search__after\">\n            {theme === 'default' && <Icon24Cancel onClick={this.onCancel}/>}\n            {theme === 'header' && <HeaderButton onClick={this.onCancel}><Icon24Cancel/></HeaderButton>}\n          </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\nimport SearchIOS from '../SearchIOS/SearchIOS';\nimport SearchAndroid from '../SearchAndroid/SearchAndroid';\nimport PropTypes from 'prop-types';\n\nexport default class Search extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    /**\n     * iOS only. Текст кнопки \"отмена\", которая чистит текстовое поле и убирает фокус.\n     */\n    after: PropTypes.node,\n    /**\n     * iOS only\n     */\n    before: PropTypes.node,\n    theme: PropTypes.oneOf(['header', 'default']),\n\n    /**\n     * Android only. Вызывается при клике по стрелке (слева). Этот контрол служит для выхода из режима поиска.\n     */\n    onClose: PropTypes.func,\n\n    /**\n     * Android only. Определяет, будет ли установлен фокус в поле поиска.\n     */\n    autoFocus: PropTypes.bool,\n\n    /**\n     * **Важно:** в коллбэк первым аргументом прилетает *значение* текстового поля.\n     * Объект события передается вторым аргументом.\n     */\n    onChange: PropTypes.func,\n    autoComplete: PropTypes.string\n  };\n\n  static defaultProps = {\n    theme: 'default',\n    autoComplete: 'off'\n  };\n\n  render () {\n    const { onClose, autoFocus, ...iosProps } = this.props;\n    const { after, before, ...androidProps } = this.props;\n    if (IS_PLATFORM_IOS) {\n      return <SearchIOS {...iosProps} />;\n    } else {\n      return <SearchAndroid {...androidProps} />;\n    }\n  }\n}\n","import querystring from './querystring';\n\nconst defaultOptions = {\n  method: 'GET',\n  data: null\n};\n\nfunction getXMLHttpRequest () {\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // eslint-disable-next-line\n    return new XMLHttpRequest();\n  }\n}\n\nfunction makeRequest (url, options) {\n  let isCanceled;\n\n  const error = new Error('Request was aborted');\n  const request = getXMLHttpRequest();\n  const opts = { ...defaultOptions, ...options };\n\n  if (opts.data && opts.method.toLowerCase() === 'get') {\n    url += `?${querystring.create(opts.data)}`;\n  }\n\n  const requestPromise = new Promise((resolve, reject) => {\n    if (!request) {\n      reject(new Error('XMLHttpRequest not supported'));\n    }\n\n    if (opts.timeout) {\n      request.timeout = opts.timeout;\n    }\n\n    request.open(opts.method, url, true);\n\n    if (opts.headers) {\n      Object.keys(opts.headers).forEach(key => {\n        request.setRequestHeader(key, opts.headers[key]);\n      });\n    }\n\n    request.onreadystatechange = function () {\n      if (request.readyState === 4) {\n        if (request.status === 200) {\n          resolve(request.responseText);\n        } else {\n          reject(new Error(request.status));\n        }\n      }\n    };\n\n    request.ontimeout = function () {\n      reject(new Error('XMLHttpRequest timeout expires'));\n    };\n\n    request.send(opts.data);\n  });\n\n  return {\n\n    promise: new Promise(function (resolve, reject) {\n      requestPromise\n        .then(res => isCanceled ? reject(error) : resolve(res))\n        .catch((e) => isCanceled ? console.log(error) || reject(error) : reject(e));\n    }),\n\n    abort () {\n      isCanceled = true;\n      if (request) {\n        request.abort();\n      }\n    }\n\n  };\n}\n\nexport default (url, options) => makeRequest(url, options);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isWebView } from '../../lib/webview';\n\nexport default class ConfigProvider extends React.Component {\n  constructor (props, context) {\n    super(props);\n\n    (context.document || window.document).body.setAttribute('scheme', props.scheme);\n  }\n\n  static childContextTypes = {\n    isWebView: PropTypes.bool,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal']),\n    app: PropTypes.string\n  };\n\n  static propTypes = {\n    scheme: PropTypes.string,\n    isWebView: PropTypes.bool,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal']),\n    app: PropTypes.string,\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    webviewType: 'internal',\n    isWebView,\n    scheme: 'client_light'\n  };\n\n  static contextTypes = {\n    document: PropTypes.object\n  };\n\n  get document () {\n    return this.context.document || window.document;\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.scheme !== this.props.scheme) {\n      this.document.body.setAttribute('scheme', this.props.scheme);\n    }\n  }\n\n  getChildContext () {\n    return {\n      isWebView: this.props.isWebView,\n      webviewType: this.props.webviewType,\n      scheme: this.props.scheme,\n      app: this.props.app\n    };\n  }\n\n  render () {\n    return this.props.children;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport Icon24Dropdown from '@vkontakte/icons/dist/24/dropdown';\nimport FormField from '../FormField/FormField';\n\nconst SelectMimicry = ({ className, tabIndex, placeholder, children, alignment, status, getRootRef, multiline, disabled, ...restProps }) => {\n  return (\n    <FormField\n      {...restProps}\n      tabIndex={disabled ? null : tabIndex}\n      className={classNames('Select', 'Select--mimicry', {\n        'Select--not-selected': !children,\n        'Select--multiline': multiline,\n        'Select--disabled': disabled,\n        [`Select--align-${alignment}`]: alignment\n      }, className)}\n      getRootRef={getRootRef}\n      status={status}\n    >\n      <div className=\"Select__container\">\n        <div className=\"Select__title\">{children || placeholder}</div>\n        <Icon24Dropdown />\n      </div>\n    </FormField>\n  );\n};\n\nSelectMimicry.propTypes = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  tabIndex: PropTypes.number,\n  placeholder: PropTypes.string,\n  alignment: PropTypes.oneOf(['left', 'center', 'top']),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  multiline: PropTypes.bool,\n  disabled: PropTypes.bool,\n  status: PropTypes.oneOf(['default', 'error', 'valid'])\n};\n\nSelectMimicry.defaultProps = {\n  tabIndex: 0\n};\n\nexport default SelectMimicry;\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport Icon24Dropdown from '@vkontakte/icons/dist/24/dropdown';\nimport FormField from '../FormField/FormField';\n\nexport default class Select extends Component {\n  constructor (props) {\n    super(props);\n    const state = {\n      title: '',\n      notSelected: false\n    };\n    if (typeof props.value !== 'undefined') {\n      this.isControlledOutside = true;\n    } else {\n      state.value = props.defaultValue || '';\n    }\n    this.state = state;\n  }\n\n  static propTypes = {\n    style: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    value: PropTypes.any,\n    defaultValue: PropTypes.any,\n    children: PropTypes.node,\n    placeholder: PropTypes.string,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    alignment: PropTypes.oneOf(['left', 'center', 'top']),\n    status: PropTypes.oneOf(['default', 'error', 'valid'])\n  };\n\n  static defaultProps = {\n    alignment: 'left'\n  };\n\n  onChange = (e) => {\n    this.setTitle();\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n  };\n\n  setTitle = () => {\n    const selectedOption = this.selectEl.options[this.selectEl.selectedIndex];\n    selectedOption && this.setState({\n      title: selectedOption.text,\n      notSelected: selectedOption.value === '' && this.props.hasOwnProperty('placeholder')\n    });\n  };\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.value !== this.props.value || prevProps.children !== this.props.children) {\n      this.setTitle();\n    }\n  }\n\n  componentDidMount () {\n    this.setTitle();\n  }\n\n  get value () {\n    return this.isControlledOutside ? this.props.value : this.state.value;\n  }\n\n  getRef = (element) => {\n    this.selectEl = element;\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  render () {\n    const { style, label, value, defaultValue, onChange, alignment, status, placeholder, children, className,\n      getRef, getRootRef, ...restProps } = this.props;\n\n    return (\n      <FormField\n        TagName=\"label\"\n        className={classNames('Select', {\n          [`Select--not-selected`]: this.state.notSelected,\n          [`Select--align-${alignment}`]: alignment\n        }, className)}\n        style={style}\n        getRootRef={getRootRef}\n        status={status}\n      >\n        <select\n          {...restProps}\n          className=\"Select__el\"\n          onChange={this.onChange}\n          value={this.value}\n          ref={this.getRef}\n        >\n          {placeholder && <option value=\"\">{placeholder}</option>}\n          {children}\n        </select>\n        <div className=\"Select__container\">\n          <div className=\"Select__title\">{this.state.title}</div>\n          <Icon24Dropdown />\n        </div>\n      </FormField>\n    );\n  }\n}\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable, { ACTIVE_EFFECT_DELAY } from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\n\nconst baseClassName = getClassName('Checkbox');\n\nconst Checkbox = ({ children, className, style, getRootRef, ...restProps }) => {\n  return (\n    <Tappable\n      component=\"label\"\n      className={classNames(baseClassName, className)}\n      style={style}\n      disabled={restProps.disabled}\n      activeEffectDelay={IS_PLATFORM_IOS ? 100 : ACTIVE_EFFECT_DELAY }\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} type=\"checkbox\" className=\"Checkbox__input\" />\n      <div className=\"Checkbox__container\">\n        <div className=\"Checkbox__icon\"><Icon16Done /></div>\n        <div className=\"Checkbox__content\">{children}</div>\n      </div>\n    </Tappable>\n  );\n};\n\nCheckbox.propTypes = {\n  children: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nexport default Checkbox;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Tappable, { ACTIVE_EFFECT_DELAY } from '../Tappable/Tappable';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nconst baseClassName = getClassName('Radio');\n\nconst Radio = ({ children, description, style, className, getRef, getRootRef, ...restProps }) => {\n  return (\n    <Tappable\n      component=\"label\"\n      style={style}\n      className={classNames(baseClassName, className)}\n      activeEffectDelay={IS_PLATFORM_IOS ? 100 : ACTIVE_EFFECT_DELAY }\n      disabled={restProps.disabled}\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} type=\"radio\" className=\"Radio__input\" ref={getRef} />\n      <div className=\"Radio__container\">\n        <div className=\"Radio__icon\" />\n        <div className=\"Radio__content\">\n          {children}\n          <div className=\"Radio__description\">{description}</div>\n        </div>\n      </div>\n    </Tappable>\n  );\n};\n\nRadio.propTypes = {\n  children: PropTypes.node,\n  description: PropTypes.node,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nexport default Radio;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport FormField from '../FormField/FormField';\n\nexport default class Textarea extends PureComponent {\n  constructor (props) {\n    super(props);\n\n    if (typeof props.value !== 'undefined') {\n      this.isControlledOutside = true;\n      this.state = {};\n    } else {\n      this.state = {\n        value: props.defaultValue || ''\n      };\n    }\n  }\n\n  componentDidMount () {\n    if (this.props.grow) {\n      this.resize();\n    }\n  }\n\n  static propTypes = {\n    style: PropTypes.object,\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    grow: PropTypes.bool,\n    onChange: PropTypes.func,\n    onResize: PropTypes.func,\n    className: PropTypes.string,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n    ]),\n    status: PropTypes.oneOf(['default', 'error', 'valid'])\n  };\n\n  static defaultProps = {\n    style: {},\n    defaultValue: '',\n    grow: true,\n    onResize: () => {}\n  };\n\n  getRef = (element) => {\n    this.element = element;\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n  };\n\n  resize = () => {\n    const el = this.element;\n\n    if (el) {\n      const { offsetHeight, scrollHeight } = el;\n      const style = window.getComputedStyle(el);\n      const paddingTop = parseInt(style.paddingTop);\n      const paddingBottom = parseInt(style.paddingBottom);\n\n      let diff = paddingTop + paddingBottom;\n\n      if (scrollHeight + diff <= offsetHeight) {\n        diff = 0;\n      }\n\n      if (el.value) {\n        this.setState({ height: scrollHeight - diff });\n      }\n\n      this.setState({ height: 0 }, () => {\n        const height = el.scrollHeight - diff;\n\n        this.setState({ height });\n\n        this.props.onResize(el);\n      });\n    }\n  };\n\n  get value () { return this.isControlledOutside ? this.props.value : this.state.value; }\n\n  onChange = (e) => {\n    if (this.props.grow) {\n      this.resize();\n    }\n\n    if (!this.isControlledOutside) {\n      this.setState({ value: e.target.value });\n    }\n\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n  };\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.value && this.props.value === '') {\n      // Fix iOS extra indent on removing content\n      window.requestAnimationFrame(() => {\n        this.element.value = '';\n      });\n    }\n  }\n\n  render () {\n    const { defaultValue, value, onChange, grow, style, onResize, className, getRootRef, getRef, status, ...restProps } = this.props;\n    const height = this.state.height || style.height || 66;\n\n    return (\n      <FormField\n        className={classNames('Textarea', className)}\n        style={style}\n        getRootRef={getRootRef}\n        status={status}\n      >\n        <textarea\n          {...restProps}\n          className=\"Textarea__el\"\n          value={this.value}\n          onChange={this.onChange}\n          ref={this.getRef}\n          style={{ height }}\n        />\n      </FormField>\n    );\n  }\n}\n","import React from 'react';\nimport Touch from '../Touch/Touch';\nimport getClassName from '../../helpers/getClassName';\nimport Slider from '../Slider/Slider';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('Slider');\n\nexport default class RangeSlider extends Slider {\n  static propTypes = {\n    ...Slider.propTypes,\n    value: PropTypes.arrayOf(PropTypes.number),\n    defaultValue: PropTypes.arrayOf(PropTypes.number)\n  };\n\n  static defaultProps = Slider.defaultProps;\n\n  onStart = e => {\n    const absolutePosition = this.validateAbsolute(e.startX - this.state.containerLeft);\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n    const percentRange = this.calcPercentRange(percentPosition);\n\n    this.onChange(this.percentToValue(percentRange), e);\n\n    if (this.isControlledOutside) {\n      this.setState({startX: absolutePosition});\n    } else {\n      this.setState({\n        startX: absolutePosition,\n        ...percentRange\n      });\n    }\n\n    const thumb = e.originalEvent.target.closest('.Slider__thumb');\n\n    if (thumb === this.thumbStart) {\n      this.setState({ active: 'start' });\n    } else if (thumb === this.thumbEnd) {\n      this.setState({ active: 'end' });\n    }\n  };\n\n  onMoveX = e => {\n    const absolutePosition = this.validateAbsolute(this.state.startX + (e.shiftX || 0));\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n    const percentRange = this.calcPercentRange(percentPosition);\n\n    this.onChange(this.percentToValue(percentRange), e);\n\n    if (!this.isControlledOutside) {\n      this.setState(percentRange);\n    }\n\n    e.originalEvent.preventDefault();\n  };\n\n  calcPercentRange (percent) {\n    const {percentStart, percentEnd} = this.state;\n\n    if (percentStart === 100) {\n      return {percentStart: percent, percentEnd};\n    } else if (percentEnd === 0) {\n      return {percentEnd: percent, percentStart};\n    } else if (Math.abs(percentStart - percent) <= Math.abs(percentEnd - percent)) {\n      return {percentStart: percent, percentEnd};\n    } else {\n      return {percentEnd: percent, percentStart};\n    }\n  }\n\n  validatePercent ({percentStart, percentEnd}) {\n    return {\n      percentStart: super.validatePercent(percentStart),\n      percentEnd: super.validatePercent(percentEnd)\n    };\n  }\n\n  percentToValue ({percentStart, percentEnd}) {\n    return [super.percentToValue(percentStart), super.percentToValue(percentEnd)];\n  }\n\n  valueToPercent ([valueStart, valueEnd]) {\n    return {\n      percentStart: super.valueToPercent(valueStart),\n      percentEnd: super.valueToPercent(valueEnd)\n    };\n  }\n\n  get value () {\n    if (this.isControlledOutside) {\n      return this.props.value;\n    } else if (this.props.hasOwnProperty('defaultValue')) {\n      return this.props.defaultValue;\n    } else {\n      return [this.props.min, this.props.max];\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.onResize);\n    this.onResize(() => {\n      this.setState(this.validatePercent(this.valueToPercent(this.value)));\n    });\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.isControlledOutside && nextProps.value !== this.props.value) {\n      this.setState(this.validatePercent(this.valueToPercent(nextProps.value)));\n    }\n  }\n\n  render () {\n    const { className, min, max, step, value, defaultValue, onChange, getRootRef, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, className)} ref={this.getRef}>\n        <Touch onStart={this.onStart} onMoveX={this.onMoveX} onEnd={this.onEnd} className=\"Slider__in\">\n          <div\n            className=\"Slider__dragger\"\n            style={{\n              width: this.state.percentEnd - this.state.percentStart + '%',\n              left: this.state.percentStart + '%'\n            }}\n          >\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--start', {\n                'Slider__thumb--active': this.state.active === 'start'\n              })}\n              ref={el => this.thumbStart = el}\n            />\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--end', {\n                'Slider__thumb--active': this.state.active === 'end'\n              })}\n              ref={el => this.thumbEnd = el}\n            />\n          </div>\n        </Touch>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport FormField from '../FormField/FormField';\n\nconst Input = ({ alignment, status, getRef, className, getRootRef, ...restProps }) => {\n  return (\n    <FormField\n      className={classNames('Input', className, {\n        [`Input--${alignment}`]: alignment\n      })}\n      status={status}\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} className=\"Input__el\" ref={getRef} />\n    </FormField>\n  );\n};\n\nInput.propTypes = {\n  type: PropTypes.string,\n  alignment: PropTypes.oneOf(['left', 'center', 'right']),\n  value: PropTypes.string,\n  defaultValue: PropTypes.string,\n  onChange: PropTypes.func,\n  placeholder: PropTypes.string,\n\n  /**\n   * Значение `verified` устарело и будет удалено в 3.0.0. Используйте вместо него `valid`\n   */\n  status: PropTypes.oneOf(['default', 'error', 'verified', 'valid']),\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  className: PropTypes.string\n};\n\nInput.defaultProps = {\n  type: 'text'\n};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport Button from '../Button/Button';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('File');\n\nconst File = props => {\n  const { children, label, alignment, align, size, level, type, stretched, before, className, style, getRef, getRootRef, ...restProps } = props;\n\n  return (\n    <Button\n      align={align || alignment}\n      className={classNames(baseClassNames, className)}\n      component=\"label\"\n      type={type}\n      stretched={stretched}\n      level={level}\n      size={size}\n      before={before}\n      style={style}\n      getRootRef={getRootRef}\n    >\n      <input {...restProps} className=\"File__input\" type=\"file\" ref={getRef}/>\n      {children || label}\n    </Button>\n  );\n};\n\nFile.propTypes = {\n  style: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  /**\n   * @ignore\n   */\n  level: PropTypes.any,\n  /**\n   * @ignore\n   */\n  size: PropTypes.any,\n  /**\n   * @ignore\n   */\n  type: PropTypes.any,\n  /**\n   * @ignore\n   */\n  align: PropTypes.any,\n  /**\n   * @ignore\n   */\n  stretched: PropTypes.any,\n  /**\n   * @ignore\n   */\n  before: PropTypes.any,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  /**\n   * @deprecated Используйте `children`. Свойство `label` будет удалено в 3.0.0\n   */\n  label: PropTypes.string,\n  /**\n   * @deprecated Используйте `align`. Свойство `alignment` будет удалено в 3.0.0\n   */\n  alignment: PropTypes.oneOf(['left', 'center', 'right'])\n};\n\nFile.defaultProps = {\n  label: 'Выберите файл',\n  children: 'Выберите файл',\n  alignment: 'left',\n  align: 'left'\n};\n\nexport default File;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('Switch');\n\nconst Switch = ({ style, className, getRef, getRootRef, ...restProps }) => (\n  <label className={classNames(baseClassNames, className)} style={style} ref={getRootRef}>\n    <input {...restProps} type=\"checkbox\" className=\"Switch__self\" ref={getRef} />\n    <span className=\"Switch__pseudo\" />\n  </label>\n);\n\nSwitch.propTypes = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ]),\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nexport default Switch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassName = getClassName('FormStatus');\n\nconst FormStatus = ({ state, title, children, className, dangerouslySetInnerHTML, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassName, { [`FormStatus--${state}`]: state }, className)}>\n    {title && <div className=\"FormStatus__title\">{title}</div>}\n    {dangerouslySetInnerHTML &&\n      <div className=\"FormStatus__content\" dangerouslySetInnerHTML={dangerouslySetInnerHTML} />\n    }\n    {children && !dangerouslySetInnerHTML &&\n      <div className=\"FormStatus__content\">{children}</div>\n    }\n  </div>\n);\n\nFormStatus.propTypes = {\n  state: PropTypes.oneOf(['default', 'error']),\n  title: PropTypes.node,\n  children: PropTypes.node,\n  dangerouslySetInnerHTML: PropTypes.object,\n  className: PropTypes.string\n};\n\nexport default FormStatus;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('FormLayoutGroup');\n\nconst FormLayoutGroup = ({ children, top, bottom, className, ...restProps }) => (\n  <div className={classNames(baseClassNames, className)} {...restProps}>{children}</div>\n);\n\nFormLayoutGroup.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  top: PropTypes.node,\n  bottom: PropTypes.node,\n  status: PropTypes.oneOf(['default', 'error', 'valid'])\n};\n\nexport default FormLayoutGroup;\n","import React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('FormLayout');\n\nconst preventDefault = e => e.preventDefault();\n\nconst FormLayout = props => {\n  const {\n    children,\n    TagName,\n    className,\n    getRef,\n    onSubmit,\n    ...restProps\n  } = props;\n\n  return (\n    <TagName\n      {...restProps}\n      className={classNames(baseClassName, className)}\n      onSubmit={onSubmit}\n      ref={getRef}\n    >\n      <div className=\"FormLayout__container\">\n        {Children.toArray(children).map((field, i) => {\n          if (field) {\n            const { status, top, bottom } = field.props;\n\n            return (\n              <div\n                className={classNames('FormLayout__row', {\n                  [`FormLayout__row--s-${status}`]: status\n                })}\n                key={field.key || `row-${i}`}\n              >\n                {top && <div className=\"FormLayout__row-top\">{top}</div>}\n                {field}\n                {bottom && <div className=\"FormLayout__row-bottom\">{bottom}</div>}\n              </div>\n            );\n          } else {\n            return null;\n          }\n        })}\n      </div>\n      {TagName === 'form' && (\n        <input type=\"submit\" className=\"FormLayout__submit\" value=\"\" />\n      )}\n    </TagName>\n  );\n};\n\nFormLayout.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  TagName: PropTypes.string,\n  onSubmit: PropTypes.func,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nFormLayout.defaultProps = {\n  status: 'default',\n  TagName: 'form',\n  onSubmit: preventDefault\n};\n\nexport default FormLayout;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nfunction Separator ({ className, wide, ...restProps }) {\n  return (\n    <div\n      {...restProps}\n      className={classNames(getClassName('Separator'), className, {\n        'Separator--wide': wide\n      })}\n    >\n      <div className=\"Separator__in\" />\n    </div>\n  );\n}\n\nSeparator.propTypes = {\n  className: PropTypes.string,\n\n  /**\n   * С этим свойством компонент не будет иметь отступы слева и справа\n   */\n  wide: PropTypes.bool\n};\n\nexport default React.memo(Separator);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nlet masksCreated = false;\n\nfunction createMasks () {\n  if (masksCreated) return;\n\n  const svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svgElement.setAttributeNS(null, 'id', '__SVG_MASKS_NODE__');\n  svgElement.setAttributeNS(null, 'width', 0);\n  svgElement.setAttributeNS(null, 'height', 0);\n  svgElement.style.position = 'absolute';\n  svgElement.style.width = 0;\n  svgElement.style.height = 0;\n\n  svgElement.innerHTML = `<defs>\n  <clipPath id=\"users_stack_mask_24_left\">\n    <path d=\"M3.9971785,12 C3.9971785,9.49005736 3.33667467,7.13438366 2.18,5.09731189 C4.35181237,2.01417617 7.93927741,0 11.9971785,0 C18.6245955,0 23.9971785,5.372583 23.9971785,12 C23.9971785,18.627417 18.6245955,24 11.9971785,24 C7.93927741,24 4.35181237,21.9858238 2.18,18.9026881 C3.33667467,16.8656163 3.9971785,14.5099426 3.9971785,12 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_24_right\">\n    <path d=\"M21.8171785,5.09731189 C20.6605038,7.13438366 20,9.49005736 20,12 C20,14.5099426 20.6605038,16.8656163 21.8171785,18.9026881 C19.6453661,21.9858238 16.0579011,24 12,24 C5.372583,24 3.90798505e-14,18.627417 3.90798505e-14,12 C3.90798505e-14,5.372583 5.372583,0 12,0 C16.0579011,0 19.6453661,2.01417617 21.8171785,5.09731189 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_32_left\">\n    <path d=\"M2.13430019,23.9892466 C3.32858917,21.5820026 4,18.8694095 4,16 C4,13.1305905 3.32858917,10.4179974 2.13430019,8.0107534 C4.89924175,3.22241289 10.0733034,-2.30926389e-14 16,-2.30926389e-14 C24.836556,-2.30926389e-14 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C10.0733034,32 4.89924175,28.7775871 2.13430019,23.9892466 L2.13430019,23.9892466 Z\"></path>\n  </clipPath>\n\n  <clipPath id=\"users_stack_mask_32_right\">\n    <path d=\"M29.8656998,8.0107534 C28.6714108,10.4179974 28,13.1305905 28,16 C28,18.8694095 28.6714108,21.5820026 29.8656998,23.9892466 C27.1007583,28.7775871 21.9266966,32 16,32 C7.163444,32 3.90798505e-14,24.836556 3.90798505e-14,16 C3.90798505e-14,7.163444 7.163444,0 16,0 C21.9266966,0 27.1007583,3.22241289 29.8656998,8.0107534 Z\"></path>\n  </clipPath>\n</defs>`;\n\n  document.body.appendChild(svgElement);\n  masksCreated = true;\n}\n\ncreateMasks();\n\nconst baseClassName = getClassName('UsersStack');\n\nfunction UsersStack (props) {\n  const { className, photos, count, size, vertical, children, ...restProps } = props;\n\n  const othersCount = Math.max(0, photos.length - count);\n  const canShowOthers = othersCount > 0 && size === 'm';\n\n  const photosShown = photos.slice(0, count);\n\n  return (\n    <div {...restProps} className={classNames(baseClassName, className, 'UsersStack--size-' + size, {\n      'UsersStack--with-others': canShowOthers,\n      'UsersStack--v': vertical\n    })}>\n      <div className=\"UsersStack__photos\">\n        {photosShown.map((photo, i) => (\n          <div\n            key={i}\n            className=\"UsersStack__photo\"\n            style={{ backgroundImage: `url(${photo})` }}\n          />\n        ))}\n\n        {canShowOthers &&\n        <div className=\"UsersStack__photo UsersStack__photo--others\">\n          {`+${othersCount}`}\n        </div>}\n      </div>\n      <div className=\"UsersStack__text\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nUsersStack.propTypes = {\n  /**\n   * Массив ссылок на фотографии\n   */\n  photos: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * Размер аватарок\n   */\n  size: PropTypes.oneOf(['s', 'm']),\n\n  /**\n   * Вертикальный режим. Рекомендуется использовать с размером `m`\n   */\n  vertical: PropTypes.bool,\n\n  /**\n   * Количество аватарок, которые будут показаны.\n   * Если в массиве `photos` больше элементов и используется размер `m`, то будет показано количество остальных элементов\n   */\n  count: PropTypes.number,\n\n  /**\n   * Текст, например, `Иван и ещё 2 ваших друга подписаны`\n   */\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nUsersStack.defaultProps = {\n  photos: [],\n  size: 's',\n  count: 3\n};\n\nexport default React.memo(UsersStack);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassName = getClassName('Counter');\n\nfunction Counter ({ type, children }) {\n  return (\n    <div className={classNames(baseClassName, `Counter--${type}`)}>\n      <div className=\"Counter__in\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\nCounter.propTypes = {\n  /**\n   * Тип счетчика. При использовании компонента в качестве значения свойства `after` у `Button` эти значения игнорируются\n   */\n  type: PropTypes.oneOf(['secondary', 'primary', 'prominent']),\n  children: PropTypes.node\n};\n\nCounter.defaultProps = {\n  type: 'secondary'\n};\n\nexport default React.memo(Counter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport ReactDOM from 'react-dom';\n\nconst isElement = element => React.isValidElement(element);\nconst isDOMTypeElement = element => isElement(element) && typeof element.type === 'string';\nconst baseClassName = getClassName('Tooltip');\n\nclass TooltipPortal extends React.Component {\n  static propTypes = {\n    target: PropTypes.object,\n    text: PropTypes.node,\n    title: PropTypes.node,\n    alignX: PropTypes.oneOf(['left', 'right']),\n    alignY: PropTypes.oneOf(['top', 'bottom']),\n    offsetX: PropTypes.number,\n    offsetY: PropTypes.number,\n    cornerOffset: PropTypes.number,\n    onClose: PropTypes.func.isRequired\n  };\n\n  static contextTypes = {\n    document: PropTypes.any,\n    panel: PropTypes.string\n  };\n\n  state = {\n    x: 0,\n    y: 0\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  fixedPortal = false;\n\n  portalTarget = this.findPortalTarget();\n\n  findPortalTarget () {\n    const { target } = this.props;\n    const closestFixed = target.closest('.FixedLayout');\n    const closestHeader = target.closest('.PanelHeader__in');\n    const closestPanel = this.document.getElementById(this.context.panel).childNodes[0];\n\n    if (closestFixed || closestHeader) {\n      this.fixedPortal = true;\n    }\n\n    return closestFixed || closestHeader || closestPanel;\n  }\n\n  getBoundingTargetRect () {\n    const { target } = this.props;\n    const targetBounds = target.getBoundingClientRect();\n    const portalBounds = this.portalTarget.getBoundingClientRect();\n\n    return {\n      width: targetBounds.width,\n      height: targetBounds.height,\n      x: targetBounds.left - portalBounds.left,\n      y: targetBounds.top - portalBounds.top\n    };\n  }\n\n  componentWillUnmount () {\n    this.document.removeEventListener('click', this.props.onClose);\n  }\n\n  componentDidMount () {\n    const { offsetY, offsetX, alignX, alignY } = this.props;\n    const coords = this.getBoundingTargetRect();\n\n    this.document.addEventListener('click', this.props.onClose);\n\n    this.setState({\n      x: coords.x + offsetX + (alignX === 'right' ? coords.width - this.el.offsetWidth : 0),\n      y: coords.y + (alignY === 'top' ? -this.el.offsetHeight - offsetY : coords.height + offsetY)\n    });\n  }\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { title, text, alignX, alignY, cornerOffset } = this.props;\n\n    return ReactDOM.createPortal(\n      <div className={classNames(baseClassName, {\n        [`Tooltip--x-${alignX}`]: true,\n        [`Tooltip--y-${alignY}`]: true,\n        'Tooltip--fixed': this.fixedPortal\n      })}>\n        <div className=\"Tooltip__container\" style={{ top: this.state.y, left: this.state.x }} ref={this.getRef}>\n          <div className=\"Tooltip__corner\" style={{ [alignX]: 20 + cornerOffset }}/>\n          <div className=\"Tooltip__content\">\n            {title && <div className=\"Tooltip__title\">{title}</div>}\n            {text && <div className=\"Tooltip__text\">{text}</div>}\n          </div>\n        </div>\n      </div>, this.portalTarget);\n  }\n}\n\nexport default class Tooltip extends React.Component {\n  static propTypes = {\n    /**\n     * **Важно**: если в `children` передан React-компонент, то необходимо убедиться в том, что он поддерживает\n     * свойство `getRootRef`, которое должно возвращаться ссылку на корневой DOM-элемент компонента,\n     * иначе тултип показан не будет. Если передан React-element, то такой проблемы нет.\n     */\n    children: PropTypes.node.isRequired,\n    /**\n     * Если передан `false`, то рисуется просто `children`.\n     */\n    isShown: PropTypes.bool.isRequired,\n    /**\n     * Текст тултипа.\n     */\n    text: PropTypes.node,\n    /**\n     * Заголовок тултипа.\n     */\n    title: PropTypes.node,\n    /**\n     * Положение по горизонтали (прижатие к левому или правому краю `children`).\n     */\n    alignX: PropTypes.oneOf(['left', 'right']),\n    /**\n     * Положение по вертикали (расположение над или под `children`).\n     */\n    alignY: PropTypes.oneOf(['top', 'bottom']),\n    /**\n     * Сдвиг по горизонтали (относительно портала, в котором рисуется тултип).\n     */\n    offsetX: PropTypes.number,\n    /**\n     * Сдвиг по вертикали (относительно портала, в котором рисуется тултип).\n     */\n    offsetY: PropTypes.number,\n    /**\n     * Сдвиг треугольника (относительно ширины тултипа).\n     */\n    cornerOffset: PropTypes.number,\n    /**\n     * Callback, который вызывается при клике по любому месту в пределах экрана.\n     */\n    onClose: PropTypes.func.isRequired\n  };\n\n  static defaultProps = {\n    offsetX: 0,\n    offsetY: 15,\n    alignX: 'left',\n    alignY: 'bottom',\n    cornerOffset: 0,\n    isShown: true\n  };\n\n  state = {\n    ready: false\n  };\n\n  componentDidMount () {\n    this.targetEl && this.setState({ ready: true });\n  }\n\n  getRef = el => this.targetEl = el;\n\n  render () {\n    const { children, isShown, ...portalProps } = this.props;\n\n    const child = React.cloneElement(children, {\n      [isDOMTypeElement(children) ? 'ref' : 'getRootRef']: this.getRef, key: 'c'\n    });\n\n    if (!isShown || !this.state.ready) {\n      return child;\n    }\n\n    return [child, <TooltipPortal {...portalProps} target={this.targetEl} key=\"t\" />];\n  }\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('Link');\n\nconst Link = ({children, className, Component, getRootRef, ...restProps}) => (\n  <Component {...restProps} ref={getRootRef} className={classNames(baseClassName, className)}>{children}</Component>\n);\n\nLink.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  Component: PropTypes.any,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nLink.defaultProps = {\n  Component: 'a'\n};\n\nexport default Link;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport Tabs from '../Tabs/Tabs';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\n/**\n * @deprecated Для отрисовки фиксированных табов используйте связку `Tabs` и `FixedLayout`.\n * Этот компонент устарел и будет удален в 3.0.0.\n */\nexport default class FixedTabs extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string,\n    vertical: PropTypes.oneOf(['top', 'bottom']),\n    style: PropTypes.object,\n    /**\n     * Значения white и gray устарели. Они будут удалены в следующей мажорной версии.\n     * Для Android актуален только header\n     */\n    theme: PropTypes.oneOf(['light', 'header']),\n    /**\n     * iOS only\n     */\n    type: PropTypes.oneOf(['default', 'buttons'])\n  };\n\n  static defaultProps = {\n    theme: IS_PLATFORM_IOS ? 'light' : 'header',\n    vertical: 'top'\n  };\n\n  render () {\n    const { vertical, className, style, theme, children } = this.props;\n\n    return (\n      <FixedLayout vertical={vertical} className={className} style={style}>\n        <Tabs theme={theme}>\n          {children}\n        </Tabs>\n      </FixedLayout>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport Tappable, {ACTIVE_EFFECT_DELAY} from '../Tappable/Tappable';\n\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nconst baseClassName = getClassName('TabsItem');\n\nexport default class TabsItem extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    selected: PropTypes.bool,\n    className: PropTypes.string,\n    after: PropTypes.node\n  };\n\n  static defaultProps = {\n    selected: false\n  };\n\n  render () {\n    const { children, selected, className, after, ...restProps } = this.props;\n\n    return (\n      <Tappable\n        {...restProps}\n        className={classNames(baseClassName, { 'TabsItem--selected': selected }, className)}\n        activeEffectDelay={IS_PLATFORM_IOS ? 0 : ACTIVE_EFFECT_DELAY}\n      >\n        <div className=\"TabsItem__in\">{children}</div>\n        {after && <div className=\"TabsItem__after\">{after}</div>}\n      </Tappable>\n    );\n  }\n}\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('Progress');\n\nconst Progress = ({ value, className, getRootRef, ...restProps }) => {\n  return (\n    <div {...restProps} ref={getRootRef} className={classNames(baseClassName, className)}>\n      <div className=\"Progress__bg\" />\n      <div className=\"Progress__in\" style={{ width: `${value}%` }} />\n    </div>\n  );\n};\n\nProgress.propTypes = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  value: PropTypes.number,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nProgress.defaultProps = {\n  value: 0\n};\n\nexport default Progress;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport Touch from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\n\nconst baseClassNames = getClassName('Gallery');\n\nexport default class Gallery extends Component {\n  constructor (props) {\n    super(props);\n\n    const current = typeof props.slideIndex === 'number' ? props.slideIndex : props.initialSlideIndex;\n\n    this.state = {\n      containerWidth: 0,\n      current,\n      deltaX: 0,\n      shiftX: 0,\n      slides: [],\n      animation: false,\n      duration: 0.24\n    };\n\n    this.container = React.createRef();\n\n    this.slidesStore = {};\n    this.slides = this.getChildren(props.children);\n  }\n\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    slideWidth: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number\n    ]),\n    autoplay: PropTypes.number,\n    initialSlideIndex: PropTypes.number,\n    slideIndex: PropTypes.number,\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onChange: PropTypes.func,\n    onEnd: PropTypes.func,\n    align: PropTypes.oneOf(['left', 'center', 'right']),\n    bullets: PropTypes.oneOf(['dark', 'light', false])\n  };\n\n  static defaultProps = {\n    slideWidth: '100%',\n    children: '',\n    autoplay: 0,\n    initialSlideIndex: 0,\n    align: 'left',\n    bullets: false\n  };\n\n  get isCenterWithCustomWidth () {\n    return this.props.slideWidth === 'custom' && this.props.align === 'center';\n  }\n\n  initializeSlides (callback = () => {}) {\n    const slides = this.getSlidesCoords();\n\n    const containerWidth = this.container.current.offsetWidth;\n    const viewportWidth = this.viewport.offsetWidth;\n    const layerWidth = slides.reduce((val, slide) => slide.width + val, 0);\n\n    const min = this.calcMin({ containerWidth, layerWidth, viewportWidth, slides });\n    const max = this.calcMax({ containerWidth, layerWidth, viewportWidth, slides });\n\n    this.setState({ min, max, layerWidth, containerWidth, slides }, callback);\n  }\n\n  calcMin ({ containerWidth, layerWidth, viewportWidth, slides }) {\n    switch (this.props.align) {\n      case 'left':\n        return containerWidth - layerWidth;\n      case 'right':\n        return viewportWidth - layerWidth;\n      case 'center':\n        if (this.isCenterWithCustomWidth && slides.length) {\n          const { coordX, width } = slides[slides.length - 1];\n          return (viewportWidth / 2) - coordX - (width / 2);\n        } else {\n          return viewportWidth - (containerWidth - viewportWidth) / 2 - layerWidth;\n        }\n    }\n  }\n\n  calcMax ({ viewportWidth, slides }) {\n    if (this.isCenterWithCustomWidth && slides.length) {\n      const { width, coordX } = slides[0];\n      return (viewportWidth / 2) - coordX - (width / 2);\n    } else {\n      return 0;\n    }\n  }\n\n  /**\n   * Считает отступ слоя галереи\n   * @param {Number} targetIndex ID целевого слайда\n   * @returns {Number} Значения отступа\n   */\n  calculateIndent (targetIndex) {\n    const { slides } = this.state;\n\n    if (!this.isDraggable()) {\n      return 0;\n    }\n\n    const targetSlide = slides.length ? slides[targetIndex] : null;\n\n    if (targetSlide) {\n      const { coordX, width } = targetSlide;\n\n      if (this.isCenterWithCustomWidth) {\n        const viewportWidth = this.viewport.offsetWidth;\n        return (viewportWidth / 2) - coordX - (width / 2);\n      }\n\n      return this.validateIndent(-1 * coordX);\n    } else {\n      return 0;\n    }\n  }\n\n  /**\n   * Считает отступ слоя галереи во время драга\n   * @returns {Number} Значения отступа\n   */\n  calculateDragIndent () {\n    const { shiftX, deltaX, min, max } = this.state;\n    const indent = shiftX + deltaX;\n\n    if (indent > max) {\n      return max + Number((indent - max) / 3);\n    } else if (indent < min) {\n      return min + Number((indent - min) / 3);\n    }\n\n    return indent;\n  }\n\n  validateIndent (value) {\n    const { min, max } = this.state;\n\n    if (value < min) {\n      return min;\n    } else if (value > max) {\n      return max;\n    }\n\n    return value;\n  }\n\n  isDraggable () {\n    return this.state.layerWidth > this.state.containerWidth;\n  }\n\n  /**\n   * Получает координаты и размеры каждого слайда\n   * @returns {Array} Массив с объектами, описывающими габариты слайда\n   */\n  getSlidesCoords () {\n    return [].concat(this.props.children).reduce((acc, item, i) => {\n      if (item) {\n        const elem = this.slidesStore[`slide-${i}`];\n        const res = {\n          coordX: elem.offsetLeft,\n          width: elem.offsetWidth\n        };\n\n        acc.push(res);\n      }\n\n      return acc;\n    }, []);\n  }\n\n  /**\n   * Получает индекс слайда, к которому будет осуществлен переход\n   * @returns {Number} Индекс слайда\n   */\n  getTarget () {\n    const { slides, current, deltaX, shiftX, startT, max } = this.state;\n    const expectDeltaX = deltaX / (new Date() - startT) * 240 * 0.6;\n    const shift = shiftX + deltaX + expectDeltaX - max;\n    const direction = deltaX < 0 ? 1 : -1;\n\n    // Находим ближайшую границу слайда к текущему отступу\n    let targetIndex = slides.reduce((val, item, index) => {\n      const previousValue = Math.abs(slides[val].coordX + shift);\n      const currentValue = Math.abs(item.coordX + shift);\n\n      return previousValue < currentValue ? val : index;\n    }, current);\n\n    if (targetIndex === current) {\n      let targetSlide = current + direction;\n\n      if (targetSlide >= 0 && targetSlide < slides.length) {\n        if (Math.abs(deltaX) > slides[targetSlide].width * 0.05) {\n          targetIndex = targetSlide;\n        }\n      }\n    }\n\n    return targetIndex;\n  }\n\n  go = (targetIndex) => {\n    this.setState({\n      animation: true,\n      shiftX: this.calculateIndent(targetIndex),\n      current: targetIndex\n    });\n\n    if (this.timeout) {\n      this.clearTimeout();\n      this.setTimeout(this.props.autoplay);\n    }\n  };\n\n  onStart = (e) => {\n    this.setState({\n      animation: false,\n      startT: e.startT\n    });\n  }\n\n  onMoveX = (e) => {\n    if (!this.isDraggable()) {\n      return;\n    }\n\n    e.originalEvent.preventDefault();\n\n    if (e.isSlideX) {\n      this.props.onDragStart && this.props.onDragStart();\n\n      if (this.state.deltaX !== e.shiftX || this.state.dragging !== e.isSlideX) {\n        this.setState({\n          deltaX: e.shiftX,\n          dragging: e.isSlideX\n        });\n      }\n\n      return true;\n    }\n  }\n\n  onEnd = (e) => {\n    const targetIndex = e.isSlide ? this.getTarget() : this.state.current;\n    this.props.onDragEnd && this.props.onDragEnd();\n\n    this.setState({\n      shiftX: this.calculateIndent(targetIndex),\n      deltaX: 0,\n      animation: true,\n      current: targetIndex\n    });\n\n    if (this.props.onEnd) {\n      this.props.onEnd({\n        targetIndex\n      });\n    }\n\n    if (this.timeout) {\n      this.clearTimeout();\n      this.setTimeout(this.props.autoplay);\n    }\n\n    return true;\n  }\n\n  onResize = () => {\n    this.initializeSlides();\n\n    const { layerWidth, slides } = this.state;\n    const containerWidth = this.container.current.offsetWidth;\n\n    const viewportWidth = this.viewport.offsetWidth;\n\n    this.setState({\n      shiftX: this.calculateIndent(this.state.current),\n      containerWidth,\n      min: this.calcMin({ layerWidth, containerWidth, viewportWidth, slides }),\n      max: this.calcMax({ layerWidth, containerWidth, viewportWidth, slides }),\n      animation: false\n    }, () => {\n      window.requestAnimationFrame(() => this.setState({ animation: true }));\n    });\n  };\n\n  setTimeout = (duration) => {\n    this.timeout = setTimeout(() => {\n      const { slides, current } = this.state;\n      const targetIndex = current < slides.length - 1 ? current + 1 : 0;\n\n      this.go(targetIndex);\n    }, duration);\n  };\n\n  clearTimeout = () => {\n    clearTimeout(this.timeout);\n  };\n\n  getChildren (children) {\n    return [].concat(children || this.props.children).reduce(this.reduceChildren, []);\n  }\n\n  reduceChildren = (acc, item, i) => {\n    if (item) {\n      const ref = this.getSlideRef(i);\n      acc.push(<div className='Gallery__slide' key={`slide-${i}`} ref={ref}>{item}</div>);\n    }\n\n    return acc;\n  }\n\n  getSlideRef = (id) => (slide) => {\n    this.slidesStore[`slide-${id}`] = slide;\n  }\n\n  getViewportRef = (viewport) => {\n    this.viewport = viewport ? viewport.container : {};\n  }\n\n  componentDidMount () {\n    this.initializeSlides(() => {\n      this.setState({\n        shiftX: this.calculateIndent(this.state.current)\n      });\n    });\n\n    window.addEventListener('resize', this.onResize);\n\n    if (this.props.autoplay) {\n      this.setTimeout(this.props.autoplay);\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (this.props.children !== prevProps.children) {\n      this.slides = this.getChildren(this.props.children);\n      this.isChildrenDirty = true;\n    }\n\n    if (this.isChildrenDirty) {\n      this.isChildrenDirty = false;\n      this.initializeSlides();\n    }\n    if (prevState.current !== this.state.current && this.props.onChange) {\n      this.props.onChange(this.state.current);\n    }\n\n    if (this.props.autoplay && !prevProps.autoplay) {\n      if (this.props.autoplay) {\n        this.setTimeout(this.props.autoplay);\n      }\n    }\n\n    if (!this.props.autoplay && prevProps.autoplay) {\n      this.clearTimeout();\n    }\n\n    if (this.props.slideIndex !== prevProps.slideIndex && typeof this.props.slideIndex === 'number') {\n      this.go(this.props.slideIndex);\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.onResize);\n    this.clearTimeout();\n  }\n\n  render () {\n    const { animation, duration, current, dragging } = this.state;\n    const {\n      children,\n      slideWidth,\n      autoplay,\n      initialSlideIndex,\n      slideIndex,\n      onDragStart,\n      onDragEnd,\n      onChange,\n      onEnd,\n      align,\n      bullets,\n      className,\n      ...restProps\n    } = this.props;\n\n    const indent = dragging ? this.calculateDragIndent() : this.calculateIndent(current);\n\n    const layerStyle = {\n      WebkitTransform: `translateX(${indent}px)`,\n      transform: `translateX(${indent}px)`,\n      WebkitTransition: animation ? `-webkit-transform ${duration}s cubic-bezier(.1, 0, .25, 1)` : 'none',\n      transition: animation ? `transform ${duration}s cubic-bezier(.1, 0, .25, 1)` : 'none'\n    };\n\n    return (\n      <div className={classNames(baseClassNames, className, `Gallery--${align}`, {\n        'Gallery--dragging': dragging,\n        'Gallery--custom-width': slideWidth === 'custom'\n      })} {...restProps} ref={this.container}>\n        <Touch\n          className='Gallery__viewport'\n          onStartX={this.onStart}\n          onMoveX={this.onMoveX}\n          onEnd={this.onEnd}\n          style={{ width: slideWidth === 'custom' ? '100%' : slideWidth }}\n          ref={this.getViewportRef}\n        >\n          <div className='Gallery__layer' style={layerStyle}>{this.slides}</div>\n        </Touch>\n\n        {bullets &&\n          <div className={classNames('Gallery__bullets', `Gallery__bullets--${bullets}`)}>\n            {this.slides.map((item, index) => (\n              <div className={classNames('Gallery__bullet', { 'Gallery__bullet--active': index === current })} key={index} />\n            ))}\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport Avatar from '../Avatar/Avatar';\n\nconst baseClassNames = getClassName('Entity');\n\n// @TODO Try to load photo\n/**\n * @deprecated Используйте `Cell`. Этот компонент устарел и будет удален в 3.0.0\n */\nexport default class Entity extends Component {\n  static propTypes = {\n    style: PropTypes.object,\n    /**\n     * @deprecated Используйте `avatarProps.size`\n     */\n    size: PropTypes.oneOf(['m', 's', 80, 72, 64, 56, 48, 40, 36, 32, 28]),\n    photo: PropTypes.string,\n    title: PropTypes.node,\n    description: PropTypes.node,\n    className: PropTypes.string,\n    avatarProps: PropTypes.shape(Avatar.propTypes),\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    size: 48,\n    photo: '',\n    title: '',\n    description: ''\n  };\n\n  get avatarSize () {\n    switch (this.props.size) {\n      case 'm':\n        return 64;\n      case 's':\n        return 48;\n      default:\n        return this.props.size;\n    }\n  }\n\n  render () {\n    const { className, style, photo, title, description, avatarProps, children } = this.props;\n\n    return (\n      <div className={classNames(baseClassNames, className)} style={style}>\n        <div className=\"Entity__aside\">\n          <Avatar src={photo} alt={title} size={this.avatarSize} {...avatarProps} />\n        </div>\n        <div className=\"Entity__main\">\n          {title && <div className=\"Entity__title\">{title}</div>}\n          {description && <div className=\"Entity__description\">{description}</div>}\n          {children && <div className=\"Entity__content\">{children}</div>}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('InfoRow');\n\nconst InfoRow = ({ title, className, children, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassName, className)}>\n    {title && <div className=\"InfoRow__title\">{title}</div>}\n    {children && <div>{children}</div>}\n  </div>\n);\n\nInfoRow.propTypes = {\n  title: PropTypes.node.isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nexport default InfoRow;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nimport Div from '../Div/Div';\n\nconst Footer = ({ className, children, ...restProps }) => (\n  <Div {...restProps} className={classNames('Footer', className)}>{children}</Div>\n);\n\nFooter.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassNames = getClassName('List');\n\nconst List = ({ className, children, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassNames, className)}>{children}</div>\n);\n\nList.propTypes = {\n  style: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string\n};\nList.defaultProps = {\n  style: {},\n  children: ''\n};\n\nexport default List;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Header from '../Header/Header';\n\nconst baseClassNames = getClassName('Group');\n\nconst Group = props => {\n  const { title, description, className, children, getRootRef, ...restProps } = props;\n\n  return (\n    <div {...restProps} ref={getRootRef} className={classNames(baseClassNames, className)}>\n      {title && <Header level=\"secondary\">{title}</Header>}\n      {children && <div className=\"Group__content\">{children}</div>}\n      {description && <div className=\"Group__description\">{description}</div>}\n    </div>\n  );\n};\n\nGroup.propTypes = {\n  style: PropTypes.object,\n  title: PropTypes.node,\n  description: PropTypes.node,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  getRootRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nGroup.defaultProps = {\n  title: null,\n  description: null\n};\n\nexport default Group;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button/Button';\nimport HeaderButton from '../HeaderButton/HeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\nimport { isNumeric } from '../../lib/utils';\n\nconst baseClassName = getClassName('ModalCard');\n\nclass ModalCard extends Component {\n  static propTypes = {\n    /**\n     * Иконка.\n     *\n     * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n     */\n    icon: PropTypes.node,\n\n    /**\n     * Заголовок карточки\n     */\n    title: PropTypes.string,\n\n    /**\n     * Текст, поясняющий заголовок\n     */\n    caption: PropTypes.string,\n\n    /**\n     * Дополнительное содержимое, например, поле ввода\n     */\n    children: PropTypes.node,\n\n    /**\n     * Список кнопок-действий\n     */\n    actions: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string,\n      action: PropTypes.func,\n      type: PropTypes.oneOf(['secondary', 'primary'])\n    })),\n\n    /**\n     * Тип отображения кнопок: вертикальный или горизонтальный\n     */\n    actionsLayout: PropTypes.oneOf(['vertical', 'horizontal']),\n\n    /**\n     * Будет вызван при закрытии карточки жестом\n     */\n    onClose: PropTypes.func.isRequired,\n\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static defaultProps = {\n    actions: [],\n    actionsLayout: 'horizontal',\n    insets: {}\n  };\n\n  onButtonClick = (event) => {\n    const action = this.props.actions[event.currentTarget.dataset.index].action;\n    event.persist();\n\n    if (typeof action === 'function') {\n      action(event);\n    }\n  };\n\n  render () {\n    const { insets, icon, title, caption, children, actions, actionsLayout, onClose } = this.props;\n\n    return (\n      <div className={classNames(baseClassName)}>\n        <div className=\"ModalCard__in\">\n          <div className=\"ModalCard__container\" style={isNumeric(insets.bottom) ? { marginBottom: insets.bottom } : null}>\n            {icon && <div className=\"ModalCard__icon\">{icon}</div>}\n            {title && <div className=\"ModalCard__title\">{title}</div>}\n            {caption && <div className=\"ModalCard__caption\">{caption}</div>}\n\n            {children}\n\n            {actions.length > 0 &&\n            <div className={classNames('ModalCard__actions', {\n              'ModalCard__actions--v': actionsLayout === 'vertical'\n            })}>\n              {actions.map(({ title, type }, i) => (\n                <Button\n                  key={i}\n                  data-index={i}\n                  size=\"xl\"\n                  level={type}\n                  onClick={this.onButtonClick}\n                >\n                  {title}\n                </Button>\n              ))}\n            </div>\n            }\n\n            {IS_PLATFORM_IOS &&\n            <HeaderButton className=\"ModalCard__dismiss\" onClick={onClose}>\n              <Icon24Dismiss />\n            </HeaderButton>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(ModalCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('ModalPageHeader');\n\nfunction ModalPageHeader (props) {\n  const { className, left, right, children, noShadow, getRef } = props;\n  const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n  return (\n    <div className={classNames(baseClassName, className)} ref={getRef}>\n      <div className=\"ModalPageHeader__in\">\n        <div className=\"ModalPageHeader__left\">\n          {left}\n        </div>\n\n        <div className=\"ModalPageHeader__content\">\n          <div className=\"ModalPageHeader__content-in\">\n            {isPrimitive ? <span>{children}</span> : children}\n          </div>\n        </div>\n\n        <div className=\"ModalPageHeader__right\">\n          {right}\n        </div>\n      </div>\n\n      {!noShadow && <div className=\"ModalPageHeader__shadow\" />}\n    </div>\n  );\n}\n\nModalPageHeader.propTypes = {\n  className: PropTypes.string,\n\n  /**\n   * Иконки, отображаемые слева\n   */\n  left: PropTypes.node,\n\n  /**\n   * Иконки, отображаемые справа\n   */\n  right: PropTypes.node,\n  children: PropTypes.node,\n  noShadow: PropTypes.bool,\n  getRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n  ])\n};\n\nModalPageHeader.defaultProps = {\n  noShadow: false\n};\n\nexport default ModalPageHeader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport { isNumeric } from '../../lib/utils';\n\nconst baseClassName = getClassName('ModalPage');\n\nclass ModalPage extends Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    children: PropTypes.node,\n\n    /**\n     * Шапка модальной страницы, `<ModalPageHeader />`\n     */\n    header: PropTypes.node.isRequired,\n    onClose: PropTypes.func.isRequired,\n\n    /**\n     * Процент, на который изначально будет открыта модальная страница\n     */\n    settlingHeight: PropTypes.number,\n\n    /**\n     * Если высота контента в модальной странице может поменяться, нужно установить это свойство\n     */\n    dynamicContentHeight: PropTypes.bool,\n\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static defaultProps = {\n    settlingHeight: 75,\n    insets: {}\n  };\n\n  render () {\n    const { children, header, insets } = this.props;\n\n    return (\n      <div className={classNames(baseClassName)}>\n        <div className=\"ModalPage__in-wrap\">\n          <div className=\"ModalPage__in\">\n            <div className=\"ModalPage__header\">\n              {header}\n            </div>\n\n            <div className=\"ModalPage__content\">\n              <div className=\"ModalPage__content-in\" style={isNumeric(insets.bottom) ? { paddingBottom: insets.bottom } : null}>\n                {children}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(ModalPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Spinner from '../Spinner/Spinner';\nimport PopoutWrapper from '../PopoutWrapper/PopoutWrapper';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('ScreenSpinner');\n\nexport default function ScreenSpinner ({ style, className, ...restProps }) {\n  return (\n    <PopoutWrapper className={classNames(baseClassName, className)} style={style}>\n      <div className=\"ScreenSpinner__container\">\n        <Spinner size=\"large\" {...restProps} />\n      </div>\n    </PopoutWrapper>\n  );\n}\n\nScreenSpinner.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object\n};\n\nScreenSpinner.defaultProps = {};\n","import React from 'react';\nimport removeObjectKeys from '../../lib/removeObjectKeys';\nimport PropTypes from 'prop-types';\nimport Alert from '../Alert/Alert';\nimport ActionSheet from '../ActionSheet/ActionSheet';\nimport ActionSheetItem from '../ActionSheetItem/ActionSheetItem';\n\nfunction brToNl (str = '') {\n  const regex = /<br\\s*\\/?>/gi;\n\n  return str.replace(regex, '\\n');\n}\n\nlet actionId = 1;\n\n/**\n * @deprecated будет удален в 3.0.0\n */\nexport default class NativePopouts extends React.Component {\n  state = {\n    popout: null\n  };\n\n  actions = [];\n  actionsStore = {};\n\n  static propTypes = {\n    popout: PropTypes.oneOfType([\n      PropTypes.shape({\n        style: PropTypes.oneOf(['alert', 'actionSheet']).isRequired,\n        title: PropTypes.string,\n        text: PropTypes.string,\n        onClose: PropTypes.func.isRequired,\n        actions: PropTypes.arrayOf(PropTypes.shape({\n          style: PropTypes.oneOf(['cancel', 'default', 'destructive']),\n          title: PropTypes.string,\n          action: PropTypes.func\n        }))\n      }),\n      PropTypes.element\n    ]),\n    vkuiConnect: PropTypes.object.isRequired,\n    /**\n     * Root or View\n     */\n    component: PropTypes.func.isRequired\n  };\n\n  static contextTypes = {\n    isWebView: PropTypes.bool\n  };\n\n  componentDidMount () {\n    this.props.vkuiConnect.subscribe(this.vkuiListener);\n    if (this.props.popout) {\n      this.renderPopout(this.props);\n    }\n  }\n\n  componentWillUnmount () {\n    this.props.vkuiConnect.unsubscribe(this.vkuiListener);\n  }\n\n  vkuiListener = (e) => {\n    if (e.type === 'VKWebAppEvent' && e.detail && e.detail.action) {\n      if (this.actionsStore.hasOwnProperty(e.detail.action)) {\n        this.actionsStore[e.detail.action](e.detail);\n        this.props.popout && this.props.popout.onClose && this.props.popout.onClose();\n      }\n    }\n  };\n\n  renderNativeAlert (popout) {\n    const { style, title, text: message } = popout;\n    this.props.vkuiConnect.send('VKWebAppAlert', {\n      style,\n      title: brToNl(title),\n      message: brToNl(message),\n      actions: this.actions.map(item =>\n        removeObjectKeys(item, ['action'])\n      )\n    });\n  }\n\n  renderUIAlert (popout) {\n    const { title, text, onClose, actionsLayout } = popout;\n    this.setState({\n      popout: (<Alert\n        actions={this.actions.map(item => removeObjectKeys(item, ['params']))}\n        onClose={onClose}\n        actionsLayout={actionsLayout}\n      >\n        {title && <h2>{title}</h2>}\n        {text && <p>{text}</p>}\n      </Alert>)\n    });\n  }\n\n  renderNativeSheet (popout) {\n    const { style } = popout;\n    this.props.vkuiConnect.send('VKWebAppAlert', {\n      style,\n      actions: this.actions.map(item => removeObjectKeys(item, ['action']))\n    });\n  }\n\n  renderUISheet (popout) {\n    const { title, text, onClose } = popout;\n    this.setState({\n      popout: (\n        <ActionSheet title={title} text={text} onClose={onClose}>\n          {this.actions.map((item, index) => (\n            <ActionSheetItem autoclose={item.autoclose} theme={item.style} onClick={item.action} key={`${index}`}>\n              {item.title}\n            </ActionSheetItem>\n          ))}\n        </ActionSheet>\n      )\n    });\n  }\n\n  closeUIPopout () {\n    this.setState({ popout: null });\n  }\n\n  renderPopout (props) {\n    if (props.popout.style) {\n      this.actions = props.popout.actions.map((item) => ({\n        ...item,\n        autoclose: item.hasOwnProperty('autoclose') ? item.autoclose : true,\n        action: item.action || props.popout.onClose,\n        handler: { ...item.params, action: `action-${actionId++}` }\n      }));\n\n      this.actionsStore = this.actions.reduce((res, item) => { res[item.handler.action] = item.action; return res; }, {});\n\n      switch (props.popout.style) {\n        case 'alert':\n          this.context.isWebView ? this.renderNativeAlert(props.popout) : this.renderUIAlert(props.popout);\n          break;\n        case 'actionSheet':\n          this.context.isWebView ? this.renderNativeSheet(props.popout) : this.renderUISheet(props.popout);\n          break;\n      }\n    } else {\n      this.setState({ popout: props.popout });\n    }\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (!nextProps.popout && this.props.popout) {\n      this.closeUIPopout();\n    }\n    if (nextProps.popout && nextProps.popout !== this.props.popout) {\n      this.context.isWebView && this.closeUIPopout();\n      this.renderPopout(nextProps);\n    }\n  }\n\n  render () {\n    let Component = this.props.component;\n    return <Component {...removeObjectKeys(this.props, ['popout'])} popout={this.state.popout} />;\n  }\n}\n","import React from 'react';\nimport PropType from 'prop-types';\nimport classNames from '../../lib/classNames';\n\nconst HorizontalScroll = ({ children, className, ...restProps }) => (\n  <div {...restProps} className={classNames('HorizontalScroll', className)}>\n    <div className=\"HorizontalScroll__in\">{children}</div>\n  </div>\n);\n\nHorizontalScroll.propTypes = {\n  children: PropType.node,\n  className: PropType.string,\n  style: PropType.object\n};\n\nexport default HorizontalScroll;\n","import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nconst baseClassName = getClassName('InnerScroll');\n\nexport default class InnerScroll extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    style: PropTypes.object,\n    onScroll: PropTypes.func\n  };\n\n  onScroll = (e) => {\n    if (this.el.scrollTop <= 0) {\n      this.el.scrollTop = 1;\n    } else if (this.el.scrollTop >= this.el.scrollHeight - this.el.offsetHeight) {\n      this.el.scrollTop = this.el.scrollHeight - this.el.offsetHeight - 1;\n    }\n\n    this.props.onScroll && this.props.onScroll(e);\n  };\n\n  componentDidMount () {\n    this.el.scrollTop = 1;\n  }\n\n  ref = el => this.el = el;\n\n  render () {\n    const { className, children, onScroll, ...restProps } = this.props;\n\n    return (\n      <div\n        {...restProps}\n        className={classNames(baseClassName, className)}\n        onScroll={this.onScroll}\n        ref={this.getRef}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('TabbarItem');\n\nconst TabbarItem = ({ className, children, selected, label, text, ...restProps }) => (\n  <div {...restProps} className={classNames(baseClassName, className, {\n    'TabbarItem--selected': selected\n  })}>\n    <div className=\"TabbarItem__in\">\n      <div className=\"TabbarItem__icon\">\n        {children}\n        {label && <span className=\"TabbarItem__label\">{label}</span>}\n      </div>\n      {text && <div className=\"TabbarItem__text\">{text}</div>}\n    </div>\n  </div>\n);\n\nTabbarItem.propTypes = {\n  className: PropTypes.string,\n  selected: PropTypes.bool,\n  children: PropTypes.node,\n  /**\n   * Тест рядом с иконкой\n   */\n  text: PropTypes.node,\n  /**\n   * Счетчик рядом с иконкой\n   */\n  label: PropTypes.node\n};\n\nexport default TabbarItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport { isNumeric } from '../../lib/utils';\n\nconst baseClassName = getClassName('Tabbar');\n\nconst Tabbar = ({ className, children, shadow, itemsLayout, insets }) => {\n  const getItemsLayout = () => {\n    switch (itemsLayout) {\n      case 'horizontal':\n      case 'vertical':\n        return itemsLayout;\n      default:\n        return React.Children.count(children) > 2 ? 'vertical' : 'horizontal';\n    }\n  };\n\n  return (\n    <div className={classNames(baseClassName, className, `Tabbar--l-${getItemsLayout()}`, {\n      'Tabbar--shadow': shadow\n    })} style={{ paddingBottom: isNumeric(insets.bottom) ? insets.bottom : null }}>\n      {children}\n    </div>\n  );\n};\n\nTabbar.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  /**\n   * Флаг для показа/скрытия верхней тени (Android) или границы (iOS)\n   */\n  shadow: PropTypes.bool,\n  itemsLayout: PropTypes.oneOf(['vertical', 'horizontal', 'auto']),\n  /**\n   * @ignore\n   */\n  insets: PropTypes.object\n};\n\nTabbar.defaultProps = {\n  shadow: true\n};\n\nexport default withInsets(Tabbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nconst baseClassName = getClassName('Epic');\n\nexport default class Epic extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    tabbar: PropTypes.node.isRequired,\n    activeStory: PropTypes.string.isRequired\n  };\n\n  getChildContext () {\n    return {\n      hasTabbar: this.props.hasOwnProperty('tabbar')\n    };\n  }\n\n  static childContextTypes = {\n    hasTabbar: PropTypes.bool\n  };\n\n  render () {\n    const { className, activeStory, tabbar, children, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassName, className)}>\n        {React.Children.toArray(children).find(item => item.props.id === activeStory)}\n        {tabbar}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FixedLayout from '../FixedLayout/FixedLayout';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('HeaderContext');\n\nexport default class HeaderContext extends Component {\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    onClose: PropTypes.func.isRequired,\n    opened: PropTypes.bool.isRequired\n  };\n\n  static defaultProps = {\n    opened: false\n  };\n\n  state = {\n    closing: false\n  };\n\n  elementRef = React.createRef();\n\n  componentDidUpdate (prevProps) {\n    if (this.props.opened !== prevProps.opened) {\n      if (this.props.opened === false) {\n        this.setState({ closing: true });\n        this.waitAnimationFinish(this.onAnimationFinish);\n      }\n    }\n  }\n\n  waitAnimationFinish (eventHandler) {\n    const eventName = transitionEvents.animationEndEventName;\n    const element = this.elementRef.current;\n\n    if (element) {\n      element.removeEventListener(eventName, eventHandler);\n      element.addEventListener(eventName, eventHandler);\n    }\n  }\n\n  onAnimationFinish = () => {\n    this.setState({ closing: false });\n  };\n\n  render () {\n    const { children, className, opened, onClose, ...restProps } = this.props;\n    const { closing } = this.state;\n\n    return (\n      <FixedLayout {...restProps} className={classNames(baseClassNames, {\n        'HeaderContext--opened': opened,\n        'HeaderContext--closing': closing\n      }, className)} vertical=\"top\">\n        <div className=\"HeaderContext__in\" ref={this.elementRef}>\n          {(opened || closing) && children}\n        </div>\n        {(opened || closing) && <div onClick={onClose} className=\"HeaderContext__fade\" />}\n      </FixedLayout>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport Tappable from '../Tappable/Tappable';\n\nconst baseClassNames = getClassName('PanelHeaderContent');\n\nconst PanelHeaderContent = ({ className, style, aside, status, before, children, onClick, ...restProps }) => {\n  const InComponent = onClick ? Tappable : 'div';\n  const rootProps = onClick ? {} : restProps;\n  const inProps = onClick ? { ...restProps, activeEffectDelay: 200 } : {};\n\n  return (\n    <div {...rootProps} className={classNames(baseClassNames, className)} style={style}>\n      {IS_PLATFORM_ANDROID && before && <div className=\"PanelHeaderContent__before\">{before}</div>}\n      <InComponent {...inProps} className=\"PanelHeaderContent__in\" onClick={onClick}>\n        {status && <div className=\"PanelHeaderContent__status\">{status}</div>}\n        <div className=\"PanelHeaderContent__children\">\n          <span className=\"PanelHeaderContent__children-in\">{children}</span>\n          {aside && <div className=\"PanelHeaderContent__aside\">{aside}</div>}\n        </div>\n      </InComponent>\n    </div>\n  );\n};\n\nPanelHeaderContent.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  aside: PropTypes.node,\n  status: PropTypes.node,\n  onClick: PropTypes.func,\n  /**\n   * Android only\n   */\n  before: PropTypes.node\n};\n\nexport default PanelHeaderContent;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Touch from '../Touch/Touch';\nimport { tabbarHeight } from '../../appearance/constants';\nimport withInsets from '../../hoc/withInsets';\nimport { isNumeric } from '../../lib/utils';\n\nconst baseClassNames = getClassName('Panel');\n\nclass Panel extends Component {\n  static childContextTypes = {\n    panel: PropTypes.string\n  };\n\n  static propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n    theme: PropTypes.oneOf(['white', 'gray']),\n    id: PropTypes.string.isRequired,\n    centered: PropTypes.bool,\n    style: PropTypes.object,\n    /**\n     * @ignore\n     */\n    insets: PropTypes.object\n  };\n\n  static defaultProps = {\n    children: '',\n    theme: 'gray',\n    centered: false\n  };\n\n  static contextTypes = {\n    hasTabbar: PropTypes.bool\n  };\n\n  getChildContext () {\n    return {\n      panel: this.props.id\n    };\n  }\n\n  render () {\n    const { className, centered, children, theme, insets, ...restProps } = this.props;\n    const tabbarPadding = this.context.hasTabbar ? tabbarHeight : 0;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, className, {\n        'Panel--centered': centered,\n        [`Panel--tm-${theme}`]: theme\n      })}>\n        <Touch className=\"Panel__in\" style={{\n          paddingBottom: isNumeric(insets.bottom) ? (insets.bottom + tabbarPadding) : null\n        }}>\n          <div className=\"Panel__in-before\" />\n          {children}\n          <div className=\"Panel__in-after\" />\n        </Touch>\n      </div>\n    );\n  }\n}\n\nexport default withInsets(Panel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nimport transitionEvents from '../../lib/transitionEvents';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\n\nconst baseClassName = getClassName('Root');\n\nexport default class Root extends React.Component {\n  constructor (props) {\n    super();\n\n    this.state = {\n      activeView: props.activeView,\n      prevView: null,\n      nextView: null,\n      visibleViews: [props.activeView],\n      isBack: undefined,\n      scrolls: {}\n    };\n\n    this.arrayChildren = React.Children.toArray(props.children);\n  }\n\n  static propTypes = {\n    className: PropTypes.string,\n    activeView: PropTypes.string.isRequired,\n    popout: PropTypes.node,\n    modal: PropTypes.node,\n    onTransition: PropTypes.func,\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    popout: null\n  };\n\n  static contextTypes = {\n    window: PropTypes.any,\n    document: PropTypes.any\n  };\n\n  get document () {\n    return this.context.document || document;\n  }\n\n  get window () {\n    return this.context.window || window;\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.popout && !this.props.popout) {\n      this.blurActiveElement();\n    }\n\n    if (nextProps.children !== this.props.children) {\n      this.arrayChildren = React.Children.toArray(nextProps.children);\n    }\n\n    if (nextProps.activeView !== this.props.activeView) {\n      let pageYOffset = this.window.pageYOffset;\n      const firstLayerId = this.props.children.find(view => {\n        return view.props.id === this.props.activeView || view.props.id === nextProps.activeView;\n      }).props.id;\n      const isBack = firstLayerId === nextProps.activeView;\n\n      this.blurActiveElement();\n\n      const nextView = nextProps.activeView;\n      const prevView = this.props.activeView;\n\n      this.setState({\n        scrolls: {\n          ...this.state.scrolls,\n          [this.props.activeView]: pageYOffset\n        },\n        transition: true,\n        activeView: null,\n        nextView,\n        prevView,\n        visibleViews: [nextView, prevView],\n        isBack\n      });\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (!prevState.transition && this.state.transition) {\n      const prevViewElement = this.document.getElementById(`view-${this.state.prevView}`);\n      const nextViewElement = this.document.getElementById(`view-${this.state.nextView}`);\n\n      prevViewElement.querySelector('.View__panel').scrollTop = this.state.scrolls[this.state.prevView];\n\n      if (this.state.isBack) {\n        nextViewElement.querySelector('.View__panel').scrollTop = this.state.scrolls[this.state.nextView];\n      }\n      this.waitAnimationFinish(this.state.isBack ? prevViewElement : nextViewElement, this.onAnimationEnd);\n    }\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  onAnimationEnd = (e = { manual: true }) => {\n    if ([\n      'root-android-animation-hide-back',\n      'root-android-animation-show-forward',\n      'root-ios-animation-hide-back',\n      'root-ios-animation-show-forward'\n    ].indexOf(e.animationName) > -1 || e.manual) {\n      const isBack = this.state.isBack;\n      const prevView = this.state.prevView;\n      const nextView = this.state.nextView;\n      this.setState({\n        activeView: nextView,\n        prevView: null,\n        nextView: null,\n        visibleViews: [nextView],\n        transition: false,\n        isBack: undefined\n      }, () => {\n        isBack ? this.window.scrollTo(0, this.state.scrolls[this.state.activeView]) : this.window.scrollTo(0, 0);\n        this.props.onTransition && this.props.onTransition({ isBack, from: prevView, to: nextView });\n      });\n    }\n  };\n\n  blurActiveElement () {\n    if (typeof this.window !== 'undefined' && this.document.activeElement) {\n      this.document.activeElement.blur();\n    }\n  }\n\n  render () {\n    const { popout, modal } = this.props;\n    const { transition, isBack, prevView, activeView, nextView } = this.state;\n\n    let Views = this.arrayChildren.filter(View => this.state.visibleViews.indexOf(View.props.id) >= 0);\n\n    return (\n      <div className={classNames(baseClassName, this.props.className, { 'Root--transition': transition })}>\n        {Views.map(View => (\n          <div key={View.props.id} id={`view-${View.props.id}`} className={classNames('Root__view', {\n            'Root__view--hide-back': View.props.id === prevView && isBack,\n            'Root__view--hide-forward': View.props.id === prevView && !isBack,\n            'Root__view--show-back': View.props.id === nextView && isBack,\n            'Root__view--show-forward': View.props.id === nextView && !isBack,\n            'Root__view--active': View.props.id === activeView\n          })}>\n            {View}\n          </div>\n        ))}\n        {!!popout && <div className=\"Root__popout\">{popout}</div>}\n        {!!modal && <div className=\"Root__modal\">{modal}</div>}\n      </div>\n    );\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__83__;","module.exports = __WEBPACK_EXTERNAL_MODULE__84__;","module.exports = __WEBPACK_EXTERNAL_MODULE__85__;","module.exports = __WEBPACK_EXTERNAL_MODULE__86__;","module.exports = __WEBPACK_EXTERNAL_MODULE__87__;","module.exports = __WEBPACK_EXTERNAL_MODULE__88__;","module.exports = __WEBPACK_EXTERNAL_MODULE__89__;","module.exports = __WEBPACK_EXTERNAL_MODULE__90__;","module.exports = __WEBPACK_EXTERNAL_MODULE__91__;","module.exports = __WEBPACK_EXTERNAL_MODULE__92__;","module.exports = __WEBPACK_EXTERNAL_MODULE__93__;","// extracted by mini-css-extract-plugin","if (window) {\n  const ElementProto = window.Element.prototype;\n\n  // Element.prototype.matches\n  if (!ElementProto.matches) {\n    ElementProto.matches = ElementProto.matchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      ElementProto.mozMatchesSelector ||\n      ElementProto.msMatchesSelector;\n  }\n\n  // Element.prototype.closest\n  if (!ElementProto.closest) {\n    ElementProto.closest = function (css) {\n      let node = this;\n      while (node) {\n        if (node.matches(css)) return node;\n        else node = node.parentElement;\n      }\n      return null;\n    };\n  }\n}\n\n// Array.prototype.find\nif (!Array.prototype.find) {\n  Array.prototype.find = function (callback) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n  \n    let list = Object(this);\n    let length = list.length >>> 0;\n    let thisArg = arguments[1];\n  \n    for (let i = 0; i < length; i++) {\n      let element = list[i];\n      if (callback.call(thisArg, element, i, list)) {\n        return element;\n      }\n    }\n  };\n}\n\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import './lib/polyfills';\nimport './styles/styles.css';\n\n/**\n * Layout\n */\nexport { default as Root } from './components/Root/Root';\nexport { default as View } from './components/View/View';\nexport { default as Panel } from './components/Panel/Panel';\nexport { default as HeaderButton } from './components/HeaderButton/HeaderButton';\nexport { default as PanelHeader } from './components/PanelHeader/PanelHeader';\nexport { default as PanelHeaderContent } from './components/PanelHeaderContent/PanelHeaderContent';\nexport { default as HeaderContext } from './components/HeaderContext/HeaderContext';\nexport { default as Epic } from './components/Epic/Epic';\nexport { default as Tabbar } from './components/Tabbar/Tabbar';\nexport { default as TabbarItem } from './components/TabbarItem/TabbarItem';\nexport { default as InnerScroll } from './components/InnerScroll/InnerScroll';\nexport { default as HorizontalScroll } from './components/HorizontalScroll/HorizontalScroll';\nexport { default as FixedLayout } from './components/FixedLayout/FixedLayout';\n\n/**\n * Popouts\n */\nexport { default as NativePopouts } from './components/NativePopouts/NativePopouts';\nexport { default as PopoutWrapper } from './components/PopoutWrapper/PopoutWrapper';\nexport { default as Alert } from './components/Alert/Alert';\nexport { default as ActionSheet } from './components/ActionSheet/ActionSheet';\nexport { default as ActionSheetItem } from './components/ActionSheetItem/ActionSheetItem';\nexport { default as ScreenSpinner } from './components/ScreenSpinner/ScreenSpinner';\n\n/**\n * Modals\n */\nexport { default as ModalRoot } from './components/ModalRoot/ModalRoot';\nexport { default as ModalPage } from './components/ModalPage/ModalPage';\nexport { default as ModalPageHeader } from './components/ModalPageHeader/ModalPageHeader';\nexport { default as ModalCard } from './components/ModalCard/ModalCard';\n\n/**\n * Blocks\n */\nexport { default as Button } from './components/Button/Button';\nexport { default as CellButton } from './components/CellButton/CellButton';\nexport { default as Header } from './components/Header/Header';\nexport { default as Group } from './components/Group/Group';\nexport { default as List } from './components/List/List';\nexport { default as Cell } from './components/Cell/Cell';\n/**\n * @deprecated алиас для Cell. Будет удален в 3.0.0\n */\nexport { default as ListItem } from './components/Cell/Cell';\nexport { default as Footer } from './components/Footer/Footer';\nexport { default as InfoRow } from './components/InfoRow/InfoRow';\nexport { default as Entity } from './components/Entity/Entity';\nexport { default as Gallery } from './components/Gallery/Gallery';\nexport { default as Avatar } from './components/Avatar/Avatar';\nexport { default as Progress } from './components/Progress/Progress';\nexport { default as Search } from './components/Search/Search';\nexport { default as Tabs } from './components/Tabs/Tabs';\nexport { default as TabsItem } from './components/TabsItem/TabsItem';\nexport { default as FixedTabs } from './components/FixedTabs/FixedTabs';\nexport { default as Spinner } from './components/Spinner/Spinner';\nexport { default as PullToRefresh } from './components/PullToRefresh/PullToRefresh';\nexport { default as Link } from './components/Link/Link';\nexport { default as Tooltip } from './components/Tooltip/Tooltip';\nexport { default as Counter } from './components/Counter/Counter';\nexport { default as UsersStack } from './components/UsersStack/UsersStack';\nexport { default as Separator } from './components/Separator/Separator';\n\n/**\n * Forms\n */\nexport { default as FormLayout } from './components/FormLayout/FormLayout';\nexport { default as FormLayoutGroup } from './components/FormLayoutGroup/FormLayoutGroup';\nexport { default as FormStatus } from './components/FormStatus/FormStatus';\nexport { default as Switch } from './components/Switch/Switch';\nexport { default as File } from './components/File/File';\nexport { default as Input } from './components/Input/Input';\nexport { default as Slider } from './components/Slider/Slider';\nexport { default as RangeSlider } from './components/RangeSlider/RangeSlider';\nexport { default as Textarea } from './components/Textarea/Textarea';\nexport { default as Radio } from './components/Radio/Radio';\nexport { default as Checkbox } from './components/Checkbox/Checkbox';\nexport { default as Select } from './components/Select/Select';\nexport { default as SelectMimicry } from './components/SelectMimicry/SelectMimicry';\n\n/**\n * Helpers\n */\nexport { default as Div } from './components/Div/Div';\nexport { default as Tappable } from './components/Tappable/Tappable';\nexport { default as Touch } from './components/Touch/Touch';\nexport { default as ConfigProvider } from './components/ConfigProvider/ConfigProvider';\n\n/**\n * Utils\n */\nexport { default as classNames } from './lib/classNames';\n\n/**\n * @deprecated будет удалено в 3.0.0\n */\nexport { default as classnames } from './lib/classNames';\nexport { platform, ANDROID, IOS, IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from './lib/platform';\nexport { default as request } from './lib/request';\nexport { default as querystring } from './lib/querystring';\nexport { default as getClassName } from './helpers/getClassName';\nexport { isWebView } from './lib/webview';\n/**\n * @deprecated будет удален в 3.0.0\n * @type {{}}\n */\nexport const colors = {};\n\nexport const v = process.env.VKUI_VERSION;\n"],"sourceRoot":""}